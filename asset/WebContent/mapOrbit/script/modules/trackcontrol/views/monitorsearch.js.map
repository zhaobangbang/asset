{"version":3,"sources":["/script/modules/trackcontrol/views/monitorsearch.js"],"names":[],"mappings":"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","file":"/script/modules/trackcontrol/views/monitorsearch.js","sourcesContent":["/**\r\n * @file 实时监控检索entity部分 Reflux View\r\n * @author 崔健 cuijian03@baidu.com 2016.08.23\r\n */\r\nimport React, { Component } from 'react'\r\nimport { render } from 'react-dom'\r\nimport TrackStore from '../stores/trackStore'\r\nimport TrackAction from '../actions/trackAction'\r\n\r\n\r\nvar Monitorsearch = React.createClass({\r\n   getInitialState: function() {\r\n        return {\r\n            value: '',\r\n            visible:0,\r\n            clikingAll: 0,\r\n            clikingOnline: 0,\r\n            clikingOffline: 0\r\n        };\r\n    },\r\n    componentDidMount: function () {\r\n        var self = this;\r\n        TrackStore.listen(self.onStatusChange);\r\n    }, \r\n    onStatusChange: function (type,data) {\r\n        switch (type){\r\n            case 'alllist':\r\n                this.listenAlllist();\r\n            break;\r\n            case 'onlinelist':\r\n                this.listenOnlinelist();\r\n            break;\r\n            case 'offlinelist':\r\n                this.listenOfflinelist();\r\n            break;\r\n\r\n        }\r\n    },\r\n    listenAlllist: function() {\r\n        this.setState({clikingAll: 0});\r\n    },\r\n    listenOnlinelist: function() {\r\n        this.setState({clikingOnline: 0});\r\n    },\r\n    listenOfflinelist: function() {\r\n        this.setState({clikingOffline: 0});\r\n    },\r\n    /**\r\n     * DOM操作回调，检索框value改变\r\n     *\r\n     * @param {object} event 事件对象 \r\n     */\r\n    handleChange: function(event) {\r\n        this.setState({value: event.target.value});\r\n        if(event.target.value != '') {\r\n            this.state.visible = 1;\r\n        } else {\r\n            this.state.visible = 0;\r\n            TrackAction.initpageset();\r\n            TrackAction.setsearchentity('');\r\n            TrackAction.searchallentity(1);\r\n            TrackAction.searchonlineentity(1);\r\n            TrackAction.searchofflineentity(1);\r\n            this.setState({cliking: 3});\r\n        }\r\n    },\r\n    /**\r\n     * DOM操作回调，检索框value清空\r\n     *\r\n     * @param {object} event 事件对象 \r\n     */\r\n    handleClearClick: function(event) {\r\n        if (this.state.clikingAll !== 0 || this.state.clikingOnline !== 0 || this.state.clikingOffline !== 0) {\r\n            return;\r\n        }\r\n        TrackAction.initpageset();\r\n        this.setState({value: '',visible:0});\r\n        TrackAction.setsearchentity('');\r\n        TrackAction.searchallentity(1);\r\n        TrackAction.searchonlineentity(1);\r\n        TrackAction.searchofflineentity(1);\r\n\r\n        this.setState({clikingAll: 1});\r\n        this.setState({clikingOnline: 1});\r\n        this.setState({clikingOffline: 1});\r\n    },\r\n    /**\r\n     * DOM操作回调，检索\r\n     *\r\n     * @param {object} event 事件对象 \r\n     */\r\n    handleClickSearch: function(event) {\r\n        if (this.state.clikingAll !== 0 || this.state.clikingOnline !== 0 || this.state.clikingOffline !== 0) {\r\n            return;\r\n        }\r\n        TrackAction.initpageset();\r\n        TrackAction.setsearchentity(this.state.value);\r\n        TrackAction.searchallentity(1);\r\n        TrackAction.searchonlineentity(1);\r\n        TrackAction.searchofflineentity(1);\r\n        this.setState({clikingAll: 1});\r\n        this.setState({clikingOnline: 1});\r\n        this.setState({clikingOffline: 1});\r\n    },\r\n    /**\r\n     * DOM操作回调，点击回车检索\r\n     *\r\n     * @param {object} event 事件对象 s\r\n     */\r\n    handleKeyBoard: function(event) {\r\n        if (this.state.clikingAll !== 0 || this.state.clikingOnline !== 0 || this.state.clikingOffline !== 0) {\r\n            return;\r\n        }\r\n        if (event.key === 'Enter') {\r\n            TrackAction.initpageset();\r\n            TrackAction.setsearchentity(this.state.value);\r\n            TrackAction.searchallentity(1);\r\n            TrackAction.searchonlineentity(1);\r\n            TrackAction.searchofflineentity(1);\r\n            this.setState({clikingAll: 1});\r\n            this.setState({clikingOnline: 1});\r\n            this.setState({clikingOffline: 1});\r\n        }\r\n    },\r\n    render: function() {\r\n        var searchicon = __uri('/static/images/searchicon_2x.png');\r\n        var clearsearch = __uri('/static/images/clearsearch_2x.png');\r\n        return (\r\n            <div className=\"monitorSearch\">\r\n                <input className=\"searchInputMonitor\" placeholder=\"请输入关键字\"   value={this.state.value} onChange={this.handleChange} onKeyPress={this.handleKeyBoard}/>\r\n                <img src={searchicon} className=\"searchBtnMonitor\" onClick={this.handleClickSearch} />\r\n                <div className=\"lineMonitor\"></div>\r\n                <img src={clearsearch} className={this.state.visible === 0 ? 'clearSearchBtnMonitor hideCommon':'clearSearchBtnMonitor'}  onClick={this.handleClearClick}/>     \r\n            </div>\r\n\r\n        )\r\n    }\r\n});\r\n\r\nexport default Monitorsearch;\r\n"]}
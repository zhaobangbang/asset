{"version":3,"sources":["/script/modules/trackcontrol/views/trackdatetime.js"],"names":[],"mappings":";;;;;;;;;;;;;;qBAIiC,OAAO;;;;wBACjB,WAAW;;gCACX,sBAAsB;;;;kCACrB,wBAAwB;;;;+BAC1B,2BAA2B;;;;AAEjD,IAAI,aAAa,GAAG,mBAAM,WAAW,CAAC;;;AAClC,mBAAe,EAAE,2BAAW;AACxB,eAAO;AACH,2BAAe,EAAE,EAAE;SACtB,CAAC;KACL;AACD,qBAAiB,EAAE,6BAAY;AAC3B,YAAI,CAAC,iBAAiB,EAAE,CAAC;KAC5B;;;;;AAKD,qBAAiB,EAAE,6BAAW;AAC1B,YAAI,IAAI,GAAG,IAAI,CAAC;AAChB,SAAC,CAAC,iBAAiB,CAAC,CAAC,cAAc,CAAC;AAChC,oBAAQ,EAAE,OAAO;AACjB,qBAAS,EAAE,CAAC;AACZ,oBAAQ,EAAG,CAAC;AACZ,qBAAS,EAAE,CAAC;AACZ,0BAAc,EAAE,CAAC;AACjB,qBAAS,EAAE,CAAC;AACZ,sBAAU,EAAE,CAAC;AACb,mBAAO,EAAE,CAAC;AACV,0BAAc,EAAE,aAAa;SAChC,CAAC,CAAC;AACH,SAAC,CAAC,iBAAiB,CAAC,CAAC,EAAE,CAAC,YAAY,EAAE,UAAS,CAAC,EAAE;AAC9C,gBAAI,CAAC,QAAQ,CAAC,EAAC,eAAe,EAAE,6BAAU,cAAc,CAAC,CAAC,CAAC,IAAI,CAAC,EAAC,CAAC,CAAC;AACnE,4CAAY,cAAc,CAAC,6BAAU,cAAc,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;AAC7D,4CAAY,SAAS,EAAE,CAAC;SAC3B,CAAC,CAAC;AACH,SAAC,CAAC,iBAAiB,CAAC,CAAC,cAAc,CAAC,YAAY,EAAE,6BAAU,cAAc,EAAE,CAAC,CAAC;AAC9E,YAAI,CAAC,QAAQ,CAAC,EAAC,eAAe,EAAE,6BAAU,cAAc,EAAE,EAAC,CAAC,CAAC;AAC7D,wCAAY,cAAc,CAAC,6BAAU,cAAc,EAAE,CAAC,CAAC;KAC1D;;;;;;AAMD,oBAAgB,EAAE,0BAAS,CAAC,EAAE;AAC1B,wCAAY,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;KAC1D;AACD,UAAM,EAAE,kBAAW;AACf,YAAI,eAAe,GAAG,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC;AACjD,eACI;;cAAK,SAAS,EAAC,eAAe;YAC1B;;kBAAK,SAAS,EAAC,mBAAmB,EAAC,EAAE,EAAC,gBAAgB,EAAE,oBAAiB,YAAY;gBACjF,4CAAO,SAAS,EAAC,eAAe,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,MAAM,EAAE,KAAK,EAAE,eAAgB,EAAC,QAAQ,EAAE,IAAI,CAAC,gBAAiB,GAAG;gBACnH;;sBAAM,SAAS,EAAC,oBAAoB;oBAChC,wCAAG,SAAS,EAAC,SAAS,GAAK;iBACxB;aACL;SACJ,CAET;KACJ;CACJ,CAAC,CAAC;;qBAEY,aAAa","file":"/script/modules/trackcontrol/views/trackdatetime.js","sourcesContent":["/**\r\n * @file 轨迹查询时间选择entity部分 Reflux View\r\n * @author 崔健 cuijian03@baidu.com 2016.08.29\r\n */\r\nimport React, { Component } from 'react'\r\nimport { render } from 'react-dom'\r\nimport TrackStore from '../stores/trackStore'\r\nimport TrackAction from '../actions/trackAction'\r\nimport Commonfun from '../../../common/commonfun'\r\n\r\nvar Trackdatetime = React.createClass({\r\n    getInitialState: function() {\r\n        return {\r\n            defaultDatetime: ''\r\n        };\r\n    },\r\n    componentDidMount: function () {\r\n        this.initTrackDatetime();\r\n    },\r\n    /**\r\n     * view内部 初始化时间选择插件\r\n     *\r\n     */\r\n    initTrackDatetime: function() {\r\n        var that = this;\r\n        $('#datetimepicker').datetimepicker({\r\n            language: 'zh-CN',\r\n            weekStart: 1,\r\n            todayBtn:  1,\r\n            autoclose: 1,\r\n            todayHighlight: 1,\r\n            startView: 2,\r\n            forceParse: 0,\r\n            minView: 2,\r\n            pickerPosition: 'bottom-left'\r\n        });\r\n        $('#datetimepicker').on('changeDate', function(e) {\r\n            that.setState({defaultDatetime: Commonfun.getCurrentDate(e.date)});\r\n            TrackAction.changedatetime(Commonfun.getCurrentDate(e.date));\r\n            TrackAction.tracklist();\r\n        });\r\n        $('#datetimepicker').datetimepicker('setEndDate', Commonfun.getCurrentDate());\r\n        that.setState({defaultDatetime: Commonfun.getCurrentDate()});\r\n        TrackAction.changedatetime(Commonfun.getCurrentDate());\r\n    },\r\n    /**\r\n     * DOM操作回调，这里没有实际作用，主要为了防止react报错\r\n     *\r\n     * @param {object} event 事件对象 \r\n     */\r\n    handleChangeDate: function(e) {\r\n        TrackAction.changedatetime(this.state.defaultDatetime);\r\n    },\r\n    render: function() {\r\n        var defaultDatetime = this.state.defaultDatetime;\r\n        return (\r\n            <div className=\"trackDatetime\">\r\n                <div className=\"input-append date\" id=\"datetimepicker\"  data-date-format=\"yyyy-mm-dd\">\r\n                    <input className=\"datetimeInput\" size=\"16\" type=\"text\"  value={defaultDatetime} onChange={this.handleChangeDate} />\r\n                    <span className=\"add-on datetimeBtn\">\r\n                        <i className=\"icon-th\"></i>\r\n                    </span>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n});\r\n\r\nexport default Trackdatetime;"]}
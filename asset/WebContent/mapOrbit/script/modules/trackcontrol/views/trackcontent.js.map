{"version":3,"sources":["/script/modules/trackcontrol/views/trackcontent.js"],"names":[],"mappings":"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","file":"/script/modules/trackcontrol/views/trackcontent.js","sourcesContent":["/* globals map */\r\n/* globals BMap */\r\n/* globals Reflux */\r\n/* globals Commonfun */\r\n/* globals mapControl */\r\n/* eslint-disable fecs-camelcase */\r\n/* eslint-disable max-len */\r\n/**\r\n * @file ¹ì¼£²éÑ¯ÁÐ±í Reflux View\r\n * @author ´Þ½¡ cuijian03@baidu.com 2016.08.29\r\n */\r\nimport React, {Component} from 'react';\r\nimport {render} from 'react-dom';\r\nimport TrackStore from '../stores/trackStore';\r\nimport CommonStore from '../../common/stores/commonStore';\r\nimport TrackAction from '../actions/trackAction';\r\nimport Trackpages from 'trackpages';\r\nimport Commonfun from '../../../common/commonfun';\r\n\r\nvar Trackcontent = React.createClass({\r\n    getInitialState: function() {\r\n        return {\r\n            // µ±Ç°ÁÐ±íÄÚÈÝ\r\n            trackList: [],\r\n            // µ±Ç°Ñ¡ÖÐ³µµÄ×ø±ê\r\n            currentTrack: {},\r\n            // ¿Õ°×ÁÐ±íÏî\r\n            blankEntityList: [],\r\n            // µ±Ç°Ñ¡ÖÐµÄentityname\r\n            currentEntityName: '',\r\n            // 当前选中的entity显示的内容\r\n            currentEntityPrint: '',\r\n            // 是否是第一次点击绘制\r\n            first: true,\r\n            // 当前选中的track的全天完整数据\r\n            currentTrackData: []\r\n        }\r\n    },\r\n    componentDidMount: function () {\r\n        TrackStore.listen(this.onStatusChange);\r\n        TrackAction.tracklist(1);\r\n        // this.listenTrackRoute();\r\n    }, \r\n    onStatusChange: function (type,data) {\r\n        switch (type){\r\n            case 'tracklist':\r\n                this.listenTrackList(data);\r\n            break;\r\n            case 'trackroute':\r\n                this.listenTrackRoute(data);\r\n            break;\r\n            case 'trackroutefirst':\r\n                this.listenTrackRouteFirst(data);\r\n                break;\r\n            case 'changeTimeline':\r\n                this.listenChangeTimeLine(data);\r\n                break;\r\n            case 'getaddress':\r\n                this.listenGetaddress(data);\r\n                break;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * 响应store getaddress 获取轨迹点的逆地址解析结果后，显示infobox\r\n     *\r\n     * @param {Object} data infobox数据\r\n     */\r\n    listenGetaddress(data) {\r\n        mapControl.setTrackInfoBox(data);\r\n    },\r\n\r\n    /**\r\n     * 响应store，判断是否是第一次绘制轨迹\r\n     *\r\n     * @param {bool} data 是否第一次绘制\r\n     */\r\n    listenTrackRouteFirst(data) {\r\n        this.state.first = data;\r\n    },\r\n    /**\r\n     * ÏìÓ¦Store tracklistÊÂ¼þ£¬ÉèÖÃ¹ì¼£ÁÐ±í\r\n     *\r\n     * @param {data} ±êÇ©Ò³±êÊ¶\r\n     */\r\n    listenTrackList: function(data) {\r\n        // this.setState({trackList: data});\r\n        // this.setState({trackList: []}, function() {\r\n            this.setState({trackList: data});\r\n        // });\r\n        var tempArray = new Array(10 - data.length);\r\n        tempArray.fill(1);\r\n        this.setState({blankEntityList: tempArray});\r\n    },\r\n    /**\r\n     * 监听Store trackroute事件，绘制轨迹\r\n     *\r\n     * @param {Array} data 轨迹数据\r\n     */\r\n    listenTrackRoute: function(data) {\r\n        var that = this;\r\n        that.setState({\r\n            currentTrackData: data\r\n        });\r\n        that.drawTrack(data);\r\n    },\r\n\r\n    /**\r\n     * 监听Store changeTimeline事件，修改绘制卡尺事件\r\n     *\r\n     * @param {Object} data 开始和结束时间\r\n     */\r\n    listenChangeTimeLine(data) {\r\n        this.drawTrack(null, data.starttime, data.endtime);\r\n    },\r\n\r\n    /**\r\n     * view内部，绘制轨迹线路\r\n     *\r\n     * @param {Array} data 轨迹数据 可选\r\n     * @param {number} starttime 时间区间起点 可选\r\n     * @param {number} endtime 时间区间终点 可选\r\n     */\r\n    drawTrack(data, starttime, endtime) {\r\n        // console.log(this.state.currentEntityName);\r\n        // console.log(this.state.currentEntityPrint);\r\n        // console.log(data);\r\n        if (!data) {\r\n            data = this.state.currentTrackData;\r\n        }\r\n        let that = this;\r\n        let totalPoints = [];\r\n        let viewportPoints = [];\r\n\r\n        if (data.length === 0) {\r\n            return;\r\n        }\r\n        if (!starttime) {\r\n            starttime = data[0].loc_time;\r\n        }\r\n        if (!endtime) {\r\n            endtime = data[data.length -  1].loc_time;\r\n        }\r\n        for (let i = 0; i < data.length; i++) {\r\n            if (data[i].loc_time >= starttime && data[i].loc_time <= endtime) {\r\n                let tempPoint = new BMap.Point(data[i].longitude, data[i].latitude);\r\n                tempPoint.speed = data[i].speed ? data[i].speed : 0;\r\n                tempPoint.loc_time = data[i].loc_time;\r\n                tempPoint.height = data[i].height;\r\n                tempPoint.radius = data[i].radius;\r\n                tempPoint.print = that.state.currentEntityPrint;\r\n                tempPoint.printTime = Commonfun.getLocalTime(data[i].loc_time);\r\n                tempPoint.printSpeed = Commonfun.getSpeed(data[i].speed);\r\n                tempPoint.lnglat = data[i].longitude.toFixed(2) + ',' + data[i].latitude.toFixed(2);\r\n                totalPoints.push(tempPoint);\r\n            }\r\n        }\r\n        if (that.state.first) {\r\n            map.setViewport(totalPoints, {margins: [80, 0, 0, 200]});\r\n        }\r\n\r\n        let updatePointer = function () {\r\n            let nextArray = [];\r\n            let ctx = this.canvas.getContext('2d');\r\n            if (!ctx) {\r\n                return;\r\n            }\r\n            ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\r\n\r\n            if (totalPoints.length !== 0) {\r\n                var lines = 1;\r\n                let lineObj = {};\r\n                let pixelPart = 0;\r\n                const pixelPartUnit = 40;\r\n                for (let i = 0, len = totalPoints.length; i < len - 1; i = i + 1) {\r\n                    let pixel = map.pointToPixel(totalPoints[i]);\r\n                    let nextPixel = map.pointToPixel(totalPoints[i + 1]);\r\n                    pixelPart = pixelPart + Math.pow(Math.pow(nextPixel.x - pixel.x, 2) + Math.pow(nextPixel.y - pixel.y, 2), 0.5);\r\n                    if (pixelPart <= pixelPartUnit) {\r\n                        continue;\r\n                    }\r\n                    pixelPart = 0;\r\n                    ctx.beginPath();\r\n\r\n                    if (totalPoints[i + 1].loc_time - totalPoints[i].loc_time <= 5 * 60) {\r\n                        // 箭头一共需要5个点：起点、终点、中心点、箭头端点1、箭头端点2\r\n\r\n                        let midPixel = new BMap.Pixel(\r\n                            (pixel.x + nextPixel.x) / 2,\r\n                            (pixel.y + nextPixel.y) / 2\r\n                        );\r\n\r\n                        // 起点终点距离\r\n                        let distance = Math.pow((Math.pow(nextPixel.x - pixel.x, 2) + Math.pow(nextPixel.y - pixel.y, 2)), 0.5);\r\n                        // 箭头长度\r\n                        let pointerLong = 4;\r\n                        let aPixel = {};\r\n                        let bPixel = {};\r\n                        if (nextPixel.x - pixel.x === 0) {\r\n                            if (nextPixel.y - pixel.y > 0) {\r\n                                aPixel.x = midPixel.x - pointerLong * Math.pow(0.5, 0.5);\r\n                                aPixel.y = midPixel.y - pointerLong * Math.pow(0.5, 0.5);\r\n                                bPixel.x = midPixel.x + pointerLong * Math.pow(0.5, 0.5);\r\n                                bPixel.y = midPixel.y - pointerLong * Math.pow(0.5, 0.5);\r\n                            } else if (nextPixel.y - pixel.y < 0) {\r\n                                aPixel.x = midPixel.x - pointerLong * Math.pow(0.5, 0.5);\r\n                                aPixel.y = midPixel.y + pointerLong * Math.pow(0.5, 0.5);\r\n                                bPixel.x = midPixel.x + pointerLong * Math.pow(0.5, 0.5);\r\n                                bPixel.y = midPixel.y + pointerLong * Math.pow(0.5, 0.5);\r\n                            } else {\r\n                                continue;\r\n                            }\r\n                        } else {\r\n                            let k0 = ((-Math.pow(2, 0.5) * distance * pointerLong + 2 * (nextPixel.y - pixel.y) * midPixel.y) / (2 * (nextPixel.x - pixel.x))) + midPixel.x;\r\n                            let k1 = -((nextPixel.y - pixel.y) / (nextPixel.x - pixel.x));\r\n                            let a = Math.pow(k1, 2) + 1;\r\n                            let b = 2 * k1 * (k0 - midPixel.x) - 2 * midPixel.y;\r\n                            let c = Math.pow(k0 - midPixel.x, 2) + Math.pow(midPixel.y, 2) - Math.pow(pointerLong, 2);\r\n\r\n                            aPixel.y = (-b + Math.pow(b * b - 4 * a * c, 0.5)) / (2 * a);\r\n                            bPixel.y = (-b - Math.pow(b * b - 4 * a * c, 0.5)) / (2 * a);\r\n                            aPixel.x = k1 * aPixel.y + k0;\r\n                            bPixel.x = k1 * bPixel.y + k0;\r\n                        }\r\n                        ctx.moveTo(aPixel.x, aPixel.y);\r\n                        ctx.lineWidth = 2;\r\n                        ctx.strokeStyle = '#eee';\r\n                        ctx.lineTo(midPixel.x, midPixel.y);\r\n                        ctx.lineTo(bPixel.x, bPixel.y);\r\n                        ctx.lineCap = 'round';\r\n                    }\r\n                    if (totalPoints[i].loc_time >= starttime && totalPoints[i + 1].loc_time <= endtime) {\r\n                        ctx.stroke();\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        let updateBack = function () {\r\n            let nextArray = [];\r\n            let ctx = this.canvas.getContext('2d');\r\n            if (!ctx) {\r\n                return;\r\n            }\r\n            ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\r\n            if (totalPoints.length !== 0) {\r\n                var lines = 1;\r\n                let lineObj = {};\r\n\r\n                for (let i = 0, len = totalPoints.length; i < len - 1; i++) {\r\n\r\n                    let pixel = map.pointToPixel(totalPoints[i]);\r\n                    let nextPixel = map.pointToPixel(totalPoints[i + 1]);\r\n                    ctx.beginPath();\r\n\r\n                    ctx.moveTo(pixel.x, pixel.y);\r\n                    if (totalPoints[i + 1].loc_time - totalPoints[i].loc_time <= 5 * 60) {\r\n                        // 绘制轨迹的时候绘制两次line，一次是底色，一次是带速度颜色的。目的是实现边框效果\r\n                        ctx.lineWidth = 10;\r\n                        ctx.strokeStyle = '#8b8b89';\r\n                        ctx.lineTo(nextPixel.x, nextPixel.y);\r\n                        ctx.lineCap = 'round';\r\n\r\n                    } else {\r\n                        lines = lines + 1;\r\n                        let lineNum = lines;\r\n                        nextArray.push([pixel, nextPixel]);\r\n                    }\r\n                    if (totalPoints[i].loc_time >= starttime && totalPoints[i + 1].loc_time <= endtime) {\r\n                        ctx.stroke();\r\n                    }\r\n\r\n                }\r\n            }\r\n        };\r\n        let update = function () {\r\n            let nextArray = [];\r\n            let ctx = this.canvas.getContext('2d');\r\n            if (!ctx) {\r\n                return;\r\n            }\r\n            ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\r\n            \r\n            if (totalPoints.length !== 0) {\r\n                var lines = 1;\r\n                let lineObj = {};\r\n                for (let i = 0, len = totalPoints.length; i < len - 1; i++) {\r\n\r\n                    let pixel = map.pointToPixel(totalPoints[i]);\r\n                    let nextPixel = map.pointToPixel(totalPoints[i + 1]);\r\n                    ctx.beginPath();\r\n                    ctx.moveTo(pixel.x, pixel.y);\r\n                    if (totalPoints[i + 1].loc_time - totalPoints[i].loc_time <= 5 * 60) {\r\n                        // 绘制带速度颜色的轨迹\r\n                        ctx.lineCap = 'round';\r\n                        ctx.lineWidth = 8;\r\n                        let grd = ctx.createLinearGradient(pixel.x, pixel.y, nextPixel.x, nextPixel.y);\r\n                        let speed = totalPoints[i].speed;\r\n                        let speedNext = totalPoints[i + 1].speed;\r\n                        grd.addColorStop(0, that.getColorBySpeed(speed));\r\n                        grd.addColorStop(1, that.getColorBySpeed(speedNext));\r\n                        ctx.strokeStyle = grd;\r\n                        ctx.lineTo(nextPixel.x, nextPixel.y);\r\n                    } else {\r\n                        lines = lines + 1;\r\n                        let lineNum = lines;\r\n                        // lineObj['l' + i] = lines;\r\n                        nextArray.push([pixel, nextPixel]);\r\n                        if (totalPoints[i + 1].loc_time >= starttime && totalPoints[i + 1].loc_time <= endtime) {\r\n                            let partImgStart = new Image();\r\n                            partImgStart.src = __uri('/static/images/startpoint.png');\r\n                            let next = nextPixel;\r\n                            partImgStart.onload = function () {\r\n                                let width = [4, 8];\r\n                                ctx.drawImage(partImgStart, next.x - 10, next.y - 30);\r\n                                ctx.font = 'lighter 14px arial';\r\n                                ctx.fillStyle = 'white';\r\n                                ctx.fillText(lineNum, next.x - width[lineNum >= 10 ? 1 : 0], next.y - 15);\r\n                            };\r\n                        }\r\n                        if (totalPoints[i].loc_time >= starttime && totalPoints[i].loc_time <= endtime) {\r\n                            let current = pixel;\r\n                            let partImgEnd = new Image();\r\n                            partImgEnd.src = __uri('/static/images/endpoint.png');\r\n                            partImgEnd.onload = function () {\r\n                                let width = [4, 8];\r\n                                ctx.drawImage(partImgEnd, current.x - 10, current.y - 30);\r\n                                ctx.font = 'lighter 14px arial';\r\n                                ctx.fillStyle = 'white';\r\n                                ctx.fillText(lineNum - 1, current.x - width[lineNum >= 10 ? 1 : 0], current.y - 15);\r\n                            };\r\n                        }\r\n                    }\r\n                    if (totalPoints[i].loc_time >= starttime && totalPoints[i + 1].loc_time <= endtime) {\r\n                        ctx.stroke();\r\n                    }\r\n\r\n                }\r\n            }\r\n\r\n            if (totalPoints[0].loc_time >= starttime) {\r\n                let imgStart = new Image();\r\n                imgStart.src = __uri('/static/images/startpoint.png');\r\n                imgStart.onload = function () {\r\n                    let width = [4, 8];\r\n                    ctx.drawImage(imgStart, map.pointToPixel(totalPoints[0]).x - 10, map.pointToPixel(totalPoints[0]).y - 30);\r\n                    ctx.font = 'lighter 14px arial';\r\n                    ctx.fillStyle = 'white';\r\n                    ctx.fillText('1', map.pointToPixel(totalPoints[0]).x - width[lines >= 10 ? 1 : 0], map.pointToPixel(totalPoints[0]).y - 15);\r\n                };\r\n            }\r\n            if (totalPoints[totalPoints.length - 1].loc_time <= endtime) {\r\n                let imgEnd = new Image();\r\n                imgEnd.src = __uri('/static/images/endpoint.png');\r\n                imgEnd.onload = function () {\r\n                    let width = [4, 8];\r\n                    ctx.drawImage(imgEnd, map.pointToPixel(totalPoints[totalPoints.length - 1]).x - 10, map.pointToPixel(totalPoints[totalPoints.length - 1]).y - 30);\r\n                    ctx.font = 'lighter 14px arial';\r\n                    ctx.fillStyle = 'white';\r\n                    ctx.fillText(lines, map.pointToPixel(totalPoints[totalPoints.length - 1]).x - width[lines >= 10 ? 1 : 0], map.pointToPixel(totalPoints[totalPoints.length - 1]).y - 15);\r\n                };\r\n            }\r\n        }\r\n        if (totalPoints.length > 0) {\r\n            if(typeof(canvasLayer) !== 'undefined' || typeof(canvasLayerBack) !== 'undefined' || typeof(CanvasLayerPointer) !== 'undefined') {\r\n                map.removeOverlay(CanvasLayerPointer);\r\n                map.removeOverlay(canvasLayer);\r\n                map.removeOverlay(canvasLayerBack);\r\n\r\n            }\r\n            window.canvasLayerBack =  new CanvasLayer({\r\n                map: map,\r\n                update: updateBack\r\n            });\r\n            window.canvasLayer =  new CanvasLayer({\r\n                map: map,\r\n                update: update\r\n            });\r\n            window.CanvasLayerPointer =  new CanvasLayer({\r\n                map: map,\r\n                update: updatePointer\r\n            });\r\n\r\n        }\r\n        mapControl.removeBehaviorOverlay();\r\n        TrackAction.behavioranalysis();\r\n        TrackAction.getstaypoint();\r\n\r\n        if (typeof(pointCollection) !== 'undefined') {\r\n            map.removeOverlay(pointCollection);\r\n        }\r\n        let options = {\r\n            size: BMAP_POINT_SIZE_HUGE,\r\n            shape: BMAP_POINT_SHAPE_CIRCLE,\r\n            color: 'rgba(0, 0, 0, 0)'\r\n        };\r\n        window.pointCollection = new BMap.PointCollection(totalPoints, options);  // 初始化PointCollection\r\n        pointCollection.addEventListener('mouseover', function (e) {\r\n            mapControl.addTrackPointOverlay(e.point, 'trackpointOverlay');\r\n        });\r\n        pointCollection.addEventListener('mouseout', function (e) {\r\n            mapControl.removeTrackPointOverlay('trackpointOverlay');\r\n        });\r\n        pointCollection.addEventListener('click', function (e) {\r\n            mapControl.removeTrackInfoBox();\r\n            TrackAction.getaddress(e.point);\r\n            mapControl.removeTrackPointOverlay('trackpointonOverlay');\r\n            mapControl.addTrackPointOverlay(e.point, 'trackpointonOverlay');\r\n            \r\n        });\r\n        map.addOverlay(pointCollection);  // 添加Overlay\r\n    },\r\n    /**\r\n     * viewÄÚ²¿ ¸ù¾ÝËÙ¶È»ñÈ¡ÑÕÉ«\r\n     * \r\n     * @param {number} speed ËÙ¶È\r\n     *\r\n     * @return {string} ÑÕÉ«µÄÊ®Áù½øÖÆRGB\r\n     */\r\n    getColorBySpeed: function(speed) {\r\n        var color = '';\r\n        var red = 0;\r\n        var green = 0;\r\n        var blue = 0;\r\n        speed = speed > 100 ? 100 : speed;\r\n        switch (Math.floor(speed / 25)) {\r\n            case 0:\r\n                red = 187;\r\n                green = 0;\r\n                blue = 0;\r\n            break;\r\n            case 1:\r\n                speed = speed - 25;\r\n                red = 187 + Math.ceil((241 - 187) / 25 * speed);\r\n                green = 0 + Math.ceil((48 - 0) / 25 * speed);\r\n                blue = 0 + Math.ceil((48 - 0) / 25 * speed);\r\n            break;\r\n            case 2:\r\n                speed = speed - 50;\r\n                red = 241 + Math.ceil((255 - 241) / 25 * speed);\r\n                green = 48 + Math.ceil((200 - 48) / 25 * speed);\r\n                blue = 48 + Math.ceil((0 - 48) / 25 * speed);\r\n            break;\r\n            case 3:\r\n                speed = speed - 75;\r\n                red = 255 + Math.ceil((22 - 255) / 25 * speed);\r\n                green = 200 + Math.ceil((191 - 200) / 25 * speed);\r\n                blue = 0 + Math.ceil((43 - 0) / 25 * speed);\r\n            break;\r\n            case 4:\r\n                red = 22;\r\n                green = 191;\r\n                blue = 43;\r\n            break;\r\n        }\r\n\r\n        red = red.toString(16).length === 1 ? '0' + red.toString(16) : red.toString(16);\r\n        green = green.toString(16).length === 1 ? '0' + green.toString(16) : green.toString(16);\r\n        blue = blue.toString(16).length === 1 ? '0' + blue.toString(16) : blue.toString(16);\r\n        color = '#' + red + green + blue;\r\n        return color;\r\n    },\r\n    /**\r\n     * DOM²Ù×÷»Øµ÷£¬µã»÷Ñ¡ÖÐÒ»¸ö¹ì¼£\r\n     *\r\n     * @param {object} event ÊÂ¼þ¶ÔÏó \r\n     */\r\n    handleSelectTrack: function(event) {\r\n        let realTarget = event.target;\r\n        if (event.target.parentElement.className.indexOf('monitorListItem') > -1) {\r\n            realTarget = event.target.parentElement;\r\n        }\r\n        if (event.target.parentElement.parentElement.className.indexOf('monitorListItem') > -1) {\r\n            realTarget = event.target.parentElement.parentElement;\r\n        }\r\n        let entity_name = realTarget.getAttribute('data-entity_name');\r\n        let entity_id = realTarget.getAttribute('data-entity_id');\r\n        let entity_print = realTarget.getAttribute('data-entity_print');\r\n        // $('.monitorListItem0, .monitorListItem1, .monitorListItem2').removeClass('monitorSelect');\r\n        // $(realTarget).addClass('monitorSelect');\r\n        this.setState({currentEntityName: entity_name});\r\n        this.setState({currentEntityPrint: entity_print});\r\n        // mapControl.removeBehaviorOverlay();\r\n        TrackAction.selecttrack(entity_name, entity_id);\r\n        // TrackAction.behavioranalysis();\r\n        // TrackAction.getstaypoint();\r\n    },\r\n    render: function() {\r\n        var trackList = this.state.trackList;\r\n        var currentTrack = this.state.currentTrack;\r\n        var handleSelectTrack = this.handleSelectTrack;\r\n        var blankEntityList = this.state.blankEntityList;\r\n        var currentEntityName = this.state.currentEntityName;\r\n        return (\r\n            <div className=\"trackContent\">\r\n                <div className=\"monitorFrame\">\r\n                {\r\n                    trackList.map(function(item, key) {\r\n                        return (\r\n                            <div className={'monitorListItem' + item.style + ((currentEntityName === item.name) ? ' monitorSelect' : '')} key={key} data-entity_name={item.name} data-entity_print={item.print} data-entity_id={item.entity_id} onClick={handleSelectTrack}>\r\n                                <div className=\"monitorListItemName\"><abbr title={item.print}>{item.print}</abbr></div>\r\n                                <div className=\"monitorListItemSpeed\">\r\n                                {item.distance >= 0 ? item.distance + ' km' : <div className=\"loading\"></div>}\r\n                                </div>\r\n                            </div>\r\n                            )\r\n                    })\r\n                }\r\n                {\r\n                    blankEntityList.map(function(item, key) {\r\n                        return (\r\n                            <div className='monitorListItem' key={key}>\r\n                                <div className=\"monitorListItemName\"></div>\r\n                                <div className=\"monitorListItemSpeed\">\r\n                             \r\n                                </div>\r\n                            </div>\r\n                            )\r\n                    })\r\n                }\r\n                </div>\r\n                <Trackpages />\r\n            </div>\r\n        )\r\n    }\r\n});\r\n\r\nexport default Trackcontent;\r\n"]}
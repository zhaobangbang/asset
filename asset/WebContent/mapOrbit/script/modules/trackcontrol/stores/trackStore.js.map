{"version":3,"sources":["/script/modules/trackcontrol/stores/trackStore.js"],"names":[],"mappings":";;;;;;;;;;;;;;;kCAKwB,wBAAwB;;;;0BAC/B,sBAAsB;;;;+BACjB,2BAA2B;;;;AAEjD,IAAI,UAAU,GAAG,MAAM,CAAC,WAAW,CAAC;AAChC,eAAW,EAAE,iCAAa;AAC1B,QAAI,EAAE,gBAAW,EAChB;AACD,QAAI,EAAE;;AAEF,oBAAY,EAAE,EAAE;;AAEhB,oBAAY,EAAE,CAAC;;AAEf,sBAAc,EAAE,CAAC;;AAEjB,yBAAiB,EAAE,CAAC;;AAEpB,0BAAkB,EAAE,CAAC;;AAErB,mBAAW,EAAE,EAAE;;AAEf,sBAAc,EAAE,EAAE;;AAElB,uBAAe,EAAE,EAAE;;AAEnB,2BAAmB,EAAE,EAAE;;AAEvB,8BAAsB,EAAE,EAAE;;AAE1B,+BAAuB,EAAE,EAAE;;AAE3B,mBAAW,EAAE,EAAE;;AAEf,wBAAgB,EAAE,EAAE;;AAEpB,cAAM,EAAE,EAAE;;AAEV,kBAAU,EAAE,EAAE;;AAEd,iBAAS,EAAE,EAAE;;AAEb,iBAAS,EAAE,EAAE;;AAEb,6BAAqB,EAAE,CAAC;;AAExB,kBAAU,EAAE,CAAC;;AAEb,gBAAQ,EAAE,CAAC;;AAEX,kBAAU,EAAG,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG;;AAEzD,6BAAqB,EAAE,CAAC;;AAExB,0BAAkB,EAAE,EAAE;;AAEtB,2BAAmB,EAAE,EAAE;;AAEvB,wBAAgB,EAAE,EAAE;;AAEpB,sBAAc,EAAE,CAAC;;AAEjB,0BAAkB,EAAE,CAAC;;AAErB,iCAAyB,EAAE,CAAC;;AAE5B,2BAAmB,EAAE,CAAC;;AAEtB,mBAAW,EAAE,EAAE;;AAEf,8BAAsB,EAAE,EAAE;;AAE1B,+BAAuB,EAAE,EAAE;;AAE3B,+BAAuB,EAAE,CAAC;;AAE1B,oBAAY,EAAE;AACV,wBAAY,EAAE,GAAG;AACjB,wBAAY,EAAE,GAAG;AACjB,wBAAY,EAAE,GAAG;AACjB,yBAAa,EAAE,GAAG;AAClB,0BAAc,EAAE,GAAG;SACtB;AACD,sBAAc,EAAE,CACZ,SAAS,EACT,QAAQ,EACR,SAAS,CACZ;;AAED,6BAAqB,EAAE,EAAE;;AAEzB,8BAAsB,EAAE;AACpB,8BAAkB,EAAE,EAAE;AACtB,0BAAc,EAAE,EAAE;AAClB,0BAAc,EAAE,EAAE;AAClB,oBAAQ,EAAE,EAAE;SACf;;AAED,8BAAsB,EAAE,CAAC;;AAEzB,oBAAY,EAAE,CAAC;AACf,uBAAe,EAAE,CAAC;AAClB,wBAAgB,EAAE,CAAC;AACnB,8BAAsB,EAAE,EAAE;;AAE1B,oBAAY,EAAE,EAAE;;AAEhB,yBAAiB,EAAE,CAAC;;;AAGpB,kBAAU,EAAE,KAAK;;AAEjB,oBAAY,EAAE,KAAK;;AAEnB,iBAAS,EAAE,CAAC;;AAEZ,4BAAoB,EAAE,CAAC;;AAEvB,mBAAW,EAAE;AACT,eAAG,EAAE,CAAC;AACN,kBAAM,EAAE,CAAC;AACT,mBAAO,EAAE,CAAC;SACb;KACJ;;;;;;AAMD,qBAAiB,EAAE,2BAAS,KAAK,EAAE;AAC/B,YAAI,CAAC,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;AAC5B,YAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAAC;KAC1C;AACD,oBAAgB,EAAE,4BAAW;AACzB,YAAI,CAAC,OAAO,CAAC,aAAa,EAAE,QAAQ,CAAC,CAAC;;AAEtC,YAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC;KAClC;;;;;;AAMD,sBAAkB,EAAE,4BAAS,KAAK,EAAE;AAChC,YAAI,IAAI,GAAG,IAAI,CAAC;AAChB,gBAAQ,KAAK;AACT,iBAAK,CAAC;AACF,oBAAI,CAAC,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;AAC7B,sBAAM;AACV,iBAAK,CAAC;AACF,oBAAI,CAAC,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC;AAChC,sBAAM;AACV,iBAAK,CAAC;AACF,oBAAI,CAAC,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;AACjC,sBAAM;AAAA,SACb;AACD,YAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE,KAAK,CAAC,CAAC;AACxC,YAAI,CAAC,mBAAmB,EAAE,CAAC;KAC9B;;;;;;AAMD,qBAAiB,EAAE,2BAAS,KAAK,EAAE;AAC/B,YAAI,CAAC,gBAAgB,EAAE,CAAC;AACxB,YAAI,IAAI,GAAG,IAAI,CAAC;AAChB,YAAI,IAAI,CAAC,IAAI,CAAC,YAAY,KAAK,CAAC,EAAE;AAC9B,mBAAO;SACV;AACD,YAAI,CAAC,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;AAC3B,aAAK,GAAG,KAAK,IAAI,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC;AAC1C,YAAI,CAAC,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;AACjC,YAAI,CAAC,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;AAC3B,YAAI,CAAC,IAAI,CAAC,mBAAmB,GAAG,EAAE,CAAC;AACnC,YAAI,MAAM,GAAG;AACT,mBAAO,EAAE,IAAI,CAAC,IAAI,CAAC,WAAW;AAC9B,wBAAY,EAAE,KAAK;AACnB,uBAAW,EAAE,EAAE;SAClB,CAAC;;AAEF,gCAAK,KAAK,CAAC,wBAAK,YAAY,EAAE,MAAM,EAAE,WAAS,IAAI,EAAE;AACjD,gBAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;AACnB,oBAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;AAC1B,oBAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,CAAC;AAClC,oBAAI,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC;AACvC,oBAAI,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;AACrC,oBAAI,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC;AACzC,oBAAI,CAAC,OAAO,CAAC,cAAc,EAAE,OAAO,CAAC,CAAC;AACtC,oBAAI,CAAC,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;aAC9B,MAAM;AACH,oBAAI,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;AACxB,oBAAI,CAAC,sBAAsB,CAAC,EAAE,CAAC,CAAC;AAChC,oBAAI,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;;AAE5B,oBAAI,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;AAC5B,oBAAI,CAAC,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;aAC9B;SACJ,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;KACjB;;;;;;AAMD,yBAAqB,EAAE,+BAAS,KAAK,EAAE;AACnC,YAAI,IAAI,GAAG,IAAI,CAAC;AAChB,YAAI,IAAI,CAAC,IAAI,CAAC,gBAAgB,KAAK,CAAC,EAAE;AAClC,mBAAO;SACV;AACD,YAAI,CAAC,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;AAC/B,aAAK,GAAG,KAAK,IAAI,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC;AAC9C,YAAI,CAAC,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;AACrC,YAAI,CAAC,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;AAC/B,YAAI,CAAC,IAAI,CAAC,uBAAuB,GAAG,EAAE,CAAC;AACvC,YAAI,MAAM,GAAG;AACT,oBAAQ,EAAE,gBAAgB,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU;AACjD,mBAAO,EAAE,IAAI,CAAC,IAAI,CAAC,WAAW;AAC9B,wBAAY,EAAE,KAAK;AACnB,uBAAW,EAAE,EAAE;SAClB,CAAC;AACF,gCAAK,KAAK,CAAC,wBAAK,YAAY,EAAE,MAAM,EAAE,WAAS,IAAI,EAAE;AACjD,gBAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;AACnB,oBAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;AAC9B,oBAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,CAAC;AACtC,oBAAI,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC;AAC3C,oBAAI,CAAC,OAAO,CAAC,cAAc,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;AACzC,oBAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC;AAC7D,oBAAI,CAAC,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;aAClC,MAAM;AACH,oBAAI,CAAC,kBAAkB,CAAC,EAAE,CAAC,CAAC;AAC5B,oBAAI,CAAC,0BAA0B,CAAC,EAAE,CAAC,CAAC;AACpC,oBAAI,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;AAChC,oBAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE,CAAC,CAAC,CAAC;AACpC,oBAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;AAChC,oBAAI,CAAC,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;aAClC;SACJ,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;KACjB;;;;;;AAMD,wBAAoB,EAAE,8BAAS,KAAK,EAAE;AAClC,YAAI,IAAI,GAAG,IAAI,CAAC;AAChB,YAAI,IAAI,CAAC,IAAI,CAAC,eAAe,KAAK,CAAC,EAAE;AACjC,mBAAO;SACV;AACD,YAAI,CAAC,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC;AAC9B,aAAK,GAAG,KAAK,IAAI,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC;AAC7C,YAAI,CAAC,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;AACpC,YAAI,CAAC,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;AAC9B,YAAI,CAAC,IAAI,CAAC,sBAAsB,GAAG,EAAE,CAAC;AACtC,YAAI,MAAM,GAAG;AACT,oBAAQ,EAAE,cAAc,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU;AAC/C,mBAAO,EAAE,IAAI,CAAC,IAAI,CAAC,WAAW;AAC9B,wBAAY,EAAE,KAAK;AACnB,uBAAW,EAAE,EAAE;SAClB,CAAC;AACF,gCAAK,KAAK,CAAC,wBAAK,YAAY,EAAE,MAAM,EAAE,WAAS,IAAI,EAAE;AACjD,gBAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;AACnB,oBAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;AAC7B,oBAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC,CAAC;AACrC,oBAAI,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC;AAC1C,oBAAI,CAAC,OAAO,CAAC,aAAa,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;AACxC,oBAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC;AAC5D,oBAAI,CAAC,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC;aACjC,MAAM;AACH,oBAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;AAC3B,oBAAI,CAAC,yBAAyB,CAAC,EAAE,CAAC,CAAC;AACnC,oBAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC;AAC/B,oBAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE,CAAC,CAAC,CAAC;AACnC,oBAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;AAC/B,oBAAI,CAAC,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC;aACjC;SACJ,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;KACjB;;;;;AAKD,gBAAY,EAAE,wBAAW;AACrB,YAAI,IAAI,GAAG,IAAI,CAAC;AAChB,YAAI,MAAM,GAAG,EACZ,CAAC;AACF,gCAAK,KAAK,CAAC,wBAAK,WAAW,EAAE,MAAM,EAAE,WAAS,IAAI,EAAE;AAChD,gBAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;AACnB,oBAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAS,IAAI,EAAE;AAC5B,wBAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,KAAK,EAAE,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;AACpF,wBAAI,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;iBAC9C,CAAC,CAAC;AACH,oBAAI,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;aAC9B;SAEJ,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;KACjB;;;;;;;AAOD,uBAAmB,+BAAC,IAAI,EAAE;AACtB,YAAI,CAAC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;AAC9B,YAAI,CAAC,mBAAmB,EAAE,CAAC;KAC9B;;;;;;;AAOD,uBAAmB,+BAAC,OAAO,EAAE;AACzB,YAAI,IAAI,GAAG,IAAI,CAAC;AAChB,YAAI,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;AACtB,YAAI,CAAC,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,OAAO,EAAE,CAAC;AAChD,YAAI,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC;AACjD,YAAI,cAAc,GAAG,EAAE,CAAC;AACxB,YAAI,mBAAmB,GAAG,CAAC,CAAC;AAC5B,YAAI,KAAK,GAAG,CAAC,CAAC;AACd,YAAM,WAAW,GAAG,MAAM,CAAC;AAC3B,YAAI,MAAM,GAAG,GAAG,CAAC,SAAS,EAAE,CAAC;AAC7B,YAAI,MAAM,GAAG,MAAM,CAAC,SAAS,EAAE,CAAC;AAChC,YAAI,SAAS,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC;AACtC,YAAI,SAAS,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC;AACtC,YAAI,SAAS,GAAG,GAAG,CAAC,OAAO,EAAE,GAAG,EAAE,CAAC;AACnC,YAAM,KAAK,GAAG,CAAC,CAAC;AAChB,YAAM,MAAM,GAAG,CAAC,CAAC;AACjB,YAAI,cAAc,GAAG,GAAG,CAAC,WAAW,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;AAC3D,YAAI,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,IAAI,OAAO,KAAK,KAAK,IAAI,IAAI,CAAC,IAAI,CAAC,SAAS,KAAK,CAAC,EAAE;AAC3E,gBAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,UAAU,CAAC,CAAC;AAC3C,gBAAI,CAAC,OAAO,CAAC,wBAAwB,EAAE,CAAC,CAAC,CAAC;AAC1C,gBAAI,CAAC,OAAO,CAAC,mBAAmB,EAAE,EAAE,CAAC,CAAC;AACtC,mBAAO;SACV;;AAED,YAAI,SAAS,GAAG,EAAE,CAAC;;;AAGnB,YAAI,aAAa,GAAG,SAAhB,aAAa,CAAa,MAAM,EAAE;AAClC,mBAAO,GAAG,CAAC,UAAU,EAAE,CAAC,aAAa,EAAE,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;SACjE,CAAC;AACF,YAAI,aAAa,GAAG,SAAhB,aAAa,CAAa,KAAK,EAAE;AACjC,mBAAO,GAAG,CAAC,UAAU,EAAE,CAAC,aAAa,EAAE,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;SAChE,CAAC;AACF,YAAI,cAAc,GAAG,aAAa,CAAC,SAAS,CAAC,CAAC;AAC9C,YAAI,cAAc,GAAG,aAAa,CAAC,SAAS,CAAC,CAAC;AAC9C,YAAI,SAAS,GAAG,CAAC,cAAc,CAAC,CAAC,GAAG,cAAc,CAAC,CAAC,IAAI,KAAK,CAAC;AAC9D,YAAI,UAAU,GAAG,CAAC,cAAc,CAAC,CAAC,GAAG,cAAc,CAAC,CAAC,IAAI,MAAM,CAAC;AAChE,aAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,EAAE,CAAC,EAAE,EAAE;AAC5B,iBAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,EAAE;AAC7B,oBAAI,UAAU,GAAG,aAAa,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,GAAG,SAAS,GAAG,CAAC,EAAE,cAAc,CAAC,CAAC,GAAG,UAAU,GAAG,CAAC,CAAC,CAAC,CAAC;AACpH,oBAAI,QAAQ,GAAG,aAAa,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,GAAG,SAAS,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,cAAc,CAAC,CAAC,GAAG,UAAU,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AAC9H,yBAAS,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,GAAG,GAAG,GAAG,UAAU,CAAC,GAAG,GAAG,GAAG,GAAG,QAAQ,CAAC,GAAG,GAAG,GAAG,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC;aACnG;SACJ;AACD,YAAI,MAAM,GAAG,EAAE,CAAC;AAChB,gBAAQ,IAAI,CAAC,IAAI,CAAC,UAAU;AACxB,iBAAK,KAAK;AACN,sBAAM,GAAG,EAAE,CAAC;AACZ,sBAAM;AACV,iBAAK,QAAQ;AACT,sBAAM,GAAG,cAAc,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC;AAC/C,sBAAM;AACV,iBAAK,SAAS;AACV,sBAAM,GAAG,gBAAgB,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC;AACjD,sBAAM;AAAA,SACb;;AAED,YAAI,yBAAyB,GAAG,SAA5B,yBAAyB,GAAe;AACxC,qBAAS,CAAC,GAAG,CAAC,UAAU,IAAI,EAAE,KAAK,EAAE;AACjC,oBAAI,MAAM,GAAG;AACT,4BAAQ,EAAE,IAAI;AACd,4BAAQ,EAAE,MAAM;AAChB,+BAAW,EAAE,SAAS;iBACzB,CAAC;AACF,wCAAK,KAAK,CAAC,wBAAK,iBAAiB,EAAE,MAAM,EAAE,UAAU,IAAI,EAAE;AACvD,wBAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;AACnB,4BAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAU,KAAK,EAAE,MAAM,EAAE;AACvC,gCAAI,MAAM,GAAG,EAAE,CAAC;AAChB,gCAAI,aAAa,GAAG,CAAC,CAAC;AACtB,gCAAI,6BAAU,eAAe,CAAC,KAAK,CAAC,eAAe,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;AACjE,qCAAK,CAAC,eAAe,CAAC,KAAK,GAAG,KAAK,CAAC,eAAe,CAAC,KAAK,IAAI,CAAC,CAAC;AAC/D,sCAAM,GAAG,6BAAU,QAAQ,CAAC,KAAK,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;AACzD,6CAAa,GAAG,MAAM,KAAK,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC;6BAC3C,MAAM;AACH,6CAAa,GAAG,CAAC,CAAC;AAClB,sCAAM,GAAG,IAAI,CAAC;6BACjB;AACD,0CAAc,CAAC,IAAI,CAAC;AAChB,2CAAW,EAAE,KAAK,CAAC,WAAW;AAC9B,qCAAK,EAAE,CAAC,KAAK,CAAC,eAAe,CAAC,SAAS,EAAE,KAAK,CAAC,eAAe,CAAC,QAAQ,CAAC;AACxE,yCAAS,EAAE,KAAK,CAAC,eAAe,CAAC,SAAS;AAC1C,sCAAM,EAAE,MAAM;AACd,6CAAa,EAAE,aAAa;6BAC/B,CAAC,CAAC;yBAGN,CAAC,CAAC;AACH,6BAAK,GAAG,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;qBAC9B;AACD,wBAAI,EAAE,mBAAmB,KAAK,KAAK,GAAG,MAAM,IAAI,WAAW,KAAK,IAAI,CAAC,IAAI,CAAC,oBAAoB,EAAE;AAC5F,4BAAI,CAAC,OAAO,CAAC,mBAAmB,EAAE,cAAc,CAAC,CAAC;AAClD,4BAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,UAAU,CAAC,CAAC;AAC3C,4BAAI,CAAC,OAAO,CAAC,wBAAwB,EAAE,KAAK,CAAC,CAAC;qBACjD;iBACJ,CAAC,CAAC;aACN,CAAC,CAAC;SACN,CAAC;AACF,YAAI,wBAAwB,GAAG,SAA3B,wBAAwB,CAAa,UAAU,EAAE;AACjD,gBAAI,IAAI,GAAG,SAAS,CAAC,GAAG,GAAG,GAAG,GAAG,SAAS,CAAC,GAAG,GAAG,GAAG,GAAG,SAAS,CAAC,GAAG,GAAG,GAAG,GAAG,SAAS,CAAC,GAAG,CAAC;AAC3F,gBAAI,MAAM,GAAG;AACT,wBAAQ,EAAE,IAAI;AACd,wBAAQ,EAAE,MAAM;AAChB,4BAAY,EAAE,UAAU;AACxB,2BAAW,EAAE,IAAI;aACpB,CAAC;AACF,oCAAK,KAAK,CAAC,wBAAK,iBAAiB,EAAE,MAAM,EAAE,UAAU,IAAI,EAAE;AACvD,oBAAI,WAAW,KAAK,IAAI,CAAC,IAAI,CAAC,oBAAoB,EAAE;AAChD,2BAAO;iBACV;AACD,oBAAI,IAAI,CAAC,MAAM,KAAK,IAAI,EAAE;AACtB,wBAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,UAAU,CAAC,CAAC;AAC3C,wBAAI,CAAC,OAAO,CAAC,wBAAwB,EAAE,CAAC,CAAC,CAAC;AAC1C,wBAAI,CAAC,OAAO,CAAC,mBAAmB,EAAE,EAAE,CAAC,CAAC;AACtC,2BAAO;iBACV;AACD,oBAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;AACnB,wBAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,UAAU,CAAC,CAAC;AAC3C,wBAAI,CAAC,OAAO,CAAC,wBAAwB,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;AACnD,wBAAI,IAAI,CAAC,KAAK,GAAG,IAAI,EAAE;AACnB,iDAAyB,EAAE,CAAC;AAC5B,+BAAO;qBACV;AACD,wBAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAU,KAAK,EAAE,MAAM,EAAE;AACvC,4BAAI,MAAM,GAAG,EAAE,CAAC;AAChB,4BAAI,aAAa,GAAG,CAAC,CAAC;AACtB,4BAAI,6BAAU,eAAe,CAAC,KAAK,CAAC,eAAe,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;AACjE,iCAAK,CAAC,eAAe,CAAC,KAAK,GAAG,KAAK,CAAC,eAAe,CAAC,KAAK,IAAI,CAAC,CAAC;AAC/D,kCAAM,GAAG,6BAAU,QAAQ,CAAC,KAAK,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;AACzD,yCAAa,GAAG,MAAM,KAAK,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC;yBAC3C,MAAM;AACH,yCAAa,GAAG,CAAC,CAAC;AAClB,kCAAM,GAAG,IAAI,CAAC;yBACjB;AACD,sCAAc,CAAC,IAAI,CAAC;AAChB,uCAAW,EAAE,KAAK,CAAC,WAAW;AAC9B,iCAAK,EAAE,CAAC,KAAK,CAAC,eAAe,CAAC,SAAS,EAAE,KAAK,CAAC,eAAe,CAAC,QAAQ,CAAC;AACxE,qCAAS,EAAE,KAAK,CAAC,eAAe,CAAC,SAAS;AAC1C,kCAAM,EAAE,MAAM;AACd,yCAAa,EAAE,aAAa;yBAC/B,CAAC,CAAC;qBACN,CAAC,CAAC;AACH,wBAAI,cAAc,CAAC,MAAM,KAAK,IAAI,CAAC,KAAK,EAAE;AACtC,gDAAwB,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC;qBAC5C,MAAM;AACH,4BAAI,CAAC,OAAO,CAAC,mBAAmB,EAAE,cAAc,CAAC,CAAC;qBACrD;iBACJ;aACJ,CAAC,CAAC;SACN,CAAC;;AAEF,YAAI,cAAc,GAAG,KAAK,GAAG,WAAW,EAAE;;AACtC,oBAAI,QAAQ,GAAG,EAAE,CAAC;AAClB,oBAAI,SAAS,GAAG,CAAC,CAAC;AAClB,oBAAI,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;AAC5D,oBAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,IAAI,GAAG,CAAC,OAAO,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;;AAEvD,oBAAI,CAAC,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC;AAC7B,qBAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;AAC9B,wBAAI,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;AAC/C,wBAAI,MAAM,GAAG;AACT,gCAAQ,EAAE,MAAM;AAChB,oCAAY,EAAE,UAAU;AACxB,mCAAW,EAAE,GAAG,CAAC,OAAO,EAAE,GAAG,EAAE;AAC/B,gCAAQ,EAAE,eAAe;qBAC5B,CAAC;AACF,4CAAK,KAAK,CAAC,wBAAK,YAAY,EAAE,MAAM,EAAE,UAAU,IAAI,EAAE;AAClD,4BAAI,WAAW,KAAK,IAAI,CAAC,IAAI,CAAC,oBAAoB,EAAE;AAChD,mCAAO;yBACV;AACD,4BAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;AACnB,gCAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAU,KAAK,EAAE,MAAM,EAAE;AACvC,oCAAI,MAAM,GAAG,EAAE,CAAC;AAChB,oCAAI,aAAa,GAAG,CAAC,CAAC;AACtB,oCAAI,6BAAU,eAAe,CAAC,KAAK,CAAC,eAAe,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;AACjE,yCAAK,CAAC,eAAe,CAAC,KAAK,GAAG,KAAK,CAAC,eAAe,CAAC,KAAK,IAAI,CAAC,CAAC;AAC/D,0CAAM,GAAG,6BAAU,QAAQ,CAAC,KAAK,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;AACzD,iDAAa,GAAG,MAAM,KAAK,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC;iCAC3C,MAAM;AACH,iDAAa,GAAG,CAAC,CAAC;AAClB,0CAAM,GAAG,IAAI,CAAC;iCACjB;AACD,wCAAQ,CAAC,IAAI,CAAC;AACV,+CAAW,EAAE,KAAK,CAAC,WAAW;AAC9B,yCAAK,EAAE,CAAC,KAAK,CAAC,eAAe,CAAC,SAAS,EAAE,KAAK,CAAC,eAAe,CAAC,QAAQ,CAAC;AACxE,6CAAS,EAAE,KAAK,CAAC,eAAe,CAAC,SAAS;AAC1C,0CAAM,EAAE,MAAM;AACd,iDAAa,EAAE,aAAa;iCAC/B,CAAC,CAAC;6BACN,CAAC,CAAC;AACH,gCAAI,EAAE,SAAS,KAAK,CAAC,EAAE;AACnB,oCAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE,UAAU,CAAC,CAAC;AAC3C,oCAAI,CAAC,OAAO,CAAC,wBAAwB,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;AACnD,oCAAI,CAAC,OAAO,CAAC,mBAAmB,EAAE,QAAQ,CAAC,CAAC;6BAC/C;yBACJ;qBACJ,CAAC,CAAC;iBACN;AACD;;kBAAO;;;;SACV;AACD,YAAI,cAAc,GAAG,WAAW,EAAE;AAC9B,oCAAwB,CAAC,CAAC,CAAC,CAAC;SAC/B,MAAM;AACH,qCAAyB,EAAE,CAAC;SAC/B;KACJ;;;;;;AAMD,eAAW,EAAE,qBAAS,WAAW,EAAE,aAAa,EAAE,SAAS,EAAE;AACzD,YAAI,IAAI,GAAG,IAAI,CAAC;AAChB,YAAG,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,KAAK,SAAS,IAAI,WAAW,KAAK,SAAS,EAAE;AAC3E,mBAAO;SACV;AACD,YAAI,QAAQ,GAAG,KAAK,CAAC;AACrB,YAAI,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,KAAK,SAAS,IAAI,WAAW,KAAK,SAAS,EAAE;AAC5E,oBAAQ,GAAG,IAAI,CAAC;SACnB;AACD,mBAAW,GAAG,WAAW,IAAI,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC;AAC7D,qBAAa,GAAG,aAAa,KAAK,SAAS,GAAG,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC;AAChG,YAAI,CAAC,IAAI,CAAC,sBAAsB,GAAG,EAAE,CAAC;AACtC,YAAI,MAAM,GAAG;AACT,mBAAO,EAAE,WAAW;AACpB,wBAAY,EAAE,CAAC;SAClB,CAAC;;AAEF,gCAAK,KAAK,CAAC,wBAAK,YAAY,EAAE,MAAM,EAAE,WAAS,IAAI,EAAE;AACjD,gBAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;AACnB,oBAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAS,IAAI,EAAE,KAAK,EAAE;AACpC,wBAAI,IAAI,CAAC,WAAW,KAAK,WAAW,EAAE;AAClC,4BAAI,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC;AAC7C,4BAAI,SAAS,GAAG;AACZ,oCAAQ,EAAE,KAAK,CAAC,QAAQ,GAAG,GAAG,GAAG,KAAK,CAAC,SAAS;AAChD,kCAAM,EAAE,MAAM;yBACjB,CAAC;AACF,gDAAK,KAAK,CAAC,wBAAK,UAAU,EAAE,SAAS,EAAE,UAAS,OAAO,EAAE;AACrD,gCAAI,IAAI,GAAG,EAAE,CAAC;AACd,gCAAI,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,UAAS,OAAO,EAAE,KAAK,EAAE;AAC9C,oCAAI,OAAO,KAAK,WAAW,EAAE,EAE5B,MAAM;AACH,wCAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,GAAG,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,GAAG,CAAC,CAAC;iCACpG;6BACJ,CAAC,CAAC;AACH,gCAAI,GAAG,IAAI,CAAC,MAAM,CAAC,UAAS,IAAI,EAAE;AAC9B,uCAAO,IAAI,CAAC;6BACf,CAAC,CAAC;AACH,gCAAI,MAAM,GAAG,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;AACxG,gCAAI,OAAO,GAAG,SAAS,CAAC;AACxB,gCAAI,OAAO,CAAC,MAAM,CAAC,iBAAiB,KAAK,EAAE,EAAE;AACzC,uCAAO,GAAG,OAAO,CAAC,MAAM,CAAC,iBAAiB,CAAC;6BAC9C,MAAM;AACH,uCAAO,GAAG,OAAO,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,GAAG,IAAI,GAAG,aAAa,CAAC,MAAM,CAAC,gBAAgB,CAAC,OAAO,CAAC;6BACzG;AACD,gCAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,GAAG;AACtC,qCAAK,EAAE,CAAC,IAAI,CAAC,eAAe,CAAC,SAAS,EAAE,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC;AACtE,yCAAS,EAAC,IAAI,CAAC,eAAe,CAAC,SAAS;AACxC,sCAAM,EAAE,6BAAU,mBAAmB,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC;AAChI,qCAAK,EAAE,CACH,CAAC,KAAK,EAAE,6BAAU,mBAAmB,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC,EACjI,CAAC,KAAK,EAAE,OAAO,CAAC,EAChB,CAAC,KAAK,EAAE,MAAM,CAAC,EACf,CAAC,KAAK,EAAE,6BAAU,YAAY,CAAC,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC,CACjE,CAAC,MAAM,CAAC,IAAI,CAAC;6BACjB,CAAC;;;AAGF,gCAAI,YAAY,GAAG,YAAY,CAAC,cAAc,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACtE,gCAAI,YAAY,KAAK,QAAQ,IAAI,YAAY,KAAK,SAAS,EAAE;AACzD,oCAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC;AAC3E,oCAAI,CAAC,CAAC,IAAI,CAAC,WAAW,EAAE;AACpB,wCAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;iCACtF;6BACJ,MAAM,IAAI,YAAY,KAAK,QAAQ,EAAE;AAClC,oCAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC;AACpG,oCAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;6BACtF;AACD,gCAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC;AAC1E,gCAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC,aAAa,GAAG,aAAa,CAAC;AACtE,gCAAI,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC;;AAE9D,gCAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC,QAAQ,GAAG,QAAQ,CAAC;AAC5D,gCAAI,CAAC,OAAO,CAAC,eAAe,EAAC,IAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC,CAAC;yBACzE,CAAC,CAAC;qBACN;iBACJ,CAAC,CAAC;aAEN,MAAM,EAEN;SACJ,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;KACjB;;;;;;AAMD,yBAAqB,mCAAG;AACpB,YAAI,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,GAAG,SAAS,CAAC;KAC/C;;;;;;AAMD,mBAAe,EAAE,2BAAW;AACxB,YAAI,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;KACjC;;;;;;AAMD,kBAAc,EAAE,wBAAS,IAAI,EAAE;AAC3B,YAAI,IAAI,GAAG,IAAI,CAAC;AAChB,YAAI,SAAS,GAAG,CAAC,CAAC;AAClB,YAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;AACnB,mBAAO;SACV;AACD,YAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAU,IAAI,EAAE,KAAK,EAAE;AACrC,gBAAI,IAAI,GAAG,EAAE,CAAC;AACd,gBAAI,6BAAU,eAAe,CAAC,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;AAChE,oBAAI,CAAC,eAAe,CAAC,KAAK,GAAG,IAAI,CAAC,eAAe,CAAC,KAAK,IAAI,CAAC,CAAC;AAC7D,oBAAI,GAAG,6BAAU,QAAQ,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;AACtD,yBAAS,GAAG,IAAI,KAAK,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC;aACrC,MAAM;AACH,oBAAI,GAAG,IAAI,CAAC;AACZ,yBAAS,GAAG,CAAC,CAAC;aACjB;AACD,gBAAI,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG;;AAE3B,gBAAI,CAAC,WAAW,EAChB,IAAI,EACJ,SAAS,EACT,EAAE,EACF,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,GAAG,GAAG,CAC5C,CAAC;;AAEF,gBAAI,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE;AAClB,oBAAI,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC;aACpD;;AAED,gBAAI,YAAY,GAAG,YAAY,CAAC,cAAc,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACtE,gBAAI,YAAY,KAAK,QAAQ,IAAI,YAAY,KAAK,SAAS,EAAE;AACzD,oBAAI,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC;aACtD,MAAM,IAAI,YAAY,KAAK,QAAQ,EAAE;AAClC,oBAAI,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC;aAC/E;SACJ,CAAC,CAAC;KACN;;;;;;AAMD,0BAAsB,EAAE,gCAAS,IAAI,EAAE;;AAEnC,YAAI,IAAI,GAAG,IAAI,CAAC;AAChB,YAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;AACnB,gBAAI,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;AAC/C,mBAAO;SACV;AACD,YAAI,CAAC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC;AAC9B,YAAI,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;KAClD;;;;;;AAMD,sBAAkB,EAAE,4BAAS,IAAI,EAAE;AAC/B,YAAI,IAAI,GAAG,IAAI,CAAC;AAChB,YAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;AACnB,mBAAO;SACV;AACD,YAAI,SAAS,GAAG,CAAC,CAAC;AAClB,YAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAU,IAAI,EAAE,KAAK,EAAE;AACrC,gBAAI,IAAI,GAAG,EAAE,CAAC;AACd,gBAAI,6BAAU,eAAe,CAAC,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;AAChE,oBAAI,CAAC,eAAe,CAAC,KAAK,GAAG,IAAI,CAAC,eAAe,CAAC,KAAK,IAAI,CAAC,CAAC;AAC7D,oBAAI,GAAG,6BAAU,QAAQ,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;AACtD,yBAAS,GAAG,IAAI,KAAK,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC;aACrC,MAAM;AACH,oBAAI,GAAG,IAAI,CAAC;AACZ,yBAAS,GAAG,CAAC,CAAC;aACjB;AACD,gBAAI,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,GAAG;;AAE/B,gBAAI,CAAC,WAAW,EAChB,IAAI,EACJ,SAAS,EACT,EAAE,EACF,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,GAAG,GAAG,CAE5C,CAAC;;AAEF,gBAAI,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE;AAClB,oBAAI,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC;aACxD;;AAED,gBAAI,YAAY,GAAG,YAAY,CAAC,cAAc,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACtE,gBAAI,YAAY,KAAK,QAAQ,IAAI,YAAY,KAAK,SAAS,EAAE;AACzD,oBAAI,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC;aAC1D,MAAM,IAAI,YAAY,KAAK,QAAQ,EAAE;AAClC,oBAAI,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC;aACnF;SACJ,CAAC,CAAC;KACN;;;;;;AAMD,8BAA0B,EAAE,oCAAS,IAAI,EAAE;;AAEvC,YAAI,IAAI,GAAG,IAAI,CAAC;AAChB,YAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;AACnB,gBAAI,CAAC,OAAO,CAAC,aAAa,EAAE,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;AACvD,mBAAO;SACV;AACD,YAAI,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC;AAClC,YAAI,CAAC,OAAO,CAAC,aAAa,EAAE,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;KAC1D;;;;;;AAMD,qBAAiB,EAAE,2BAAS,IAAI,EAAE;AAC9B,YAAI,IAAI,GAAG,IAAI,CAAC;AAChB,YAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;AACnB,mBAAO;SACV;AACD,YAAI,SAAS,GAAG,CAAC,CAAC;AAClB,YAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAU,IAAI,EAAE,KAAK,EAAE;AACrC,gBAAI,IAAI,GAAG,EAAE,CAAC;AACd,gBAAI,6BAAU,eAAe,CAAC,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;AAChE,oBAAI,CAAC,eAAe,CAAC,KAAK,GAAG,IAAI,CAAC,eAAe,CAAC,KAAK,IAAI,CAAC,CAAC;AAC7D,oBAAI,GAAG,6BAAU,QAAQ,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;AACtD,yBAAS,GAAG,IAAI,KAAK,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC;aACrC,MAAM;AACH,oBAAI,GAAG,IAAI,CAAC;AACZ,yBAAS,GAAG,CAAC,CAAC;aACjB;AACD,gBAAI,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,GAAG;;AAE9B,gBAAI,CAAC,WAAW,EAChB,IAAI,EACJ,SAAS,EACT,EAAE,EACF,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,GAAG,GAAG,CAC5C,CAAC;;AAEF,gBAAI,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE;AAClB,oBAAI,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC;aACvD;;AAED,gBAAI,YAAY,GAAG,YAAY,CAAC,cAAc,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACtE,gBAAI,YAAY,KAAK,QAAQ,IAAI,YAAY,KAAK,SAAS,EAAE;AACzD,oBAAI,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC;aACzD,MAAM,IAAI,YAAY,KAAK,QAAQ,EAAE;AAClC,oBAAI,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC;aAClF;SACJ,CAAC,CAAC;KACN;;;;;;AAMD,6BAAyB,EAAE,mCAAS,IAAI,EAAE;;AAEtC,YAAI,IAAI,GAAG,IAAI,CAAC;AAChB,YAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;AACnB,gBAAI,CAAC,OAAO,CAAC,YAAY,EAAE,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;AACrD,mBAAO;SACV;AACD,YAAI,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC;AACjC,YAAI,CAAC,OAAO,CAAC,YAAY,EAAE,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;KACxD;;;;;;AAMD,eAAW,EAAE,qBAAS,KAAK,EAAE;;AAEzB,YAAI,IAAI,GAAG,IAAI,CAAC;AAChB,aAAK,GAAG,KAAK,IAAI,IAAI,CAAC,IAAI,CAAC,qBAAqB,CAAC;AACjD,YAAI,CAAC,IAAI,CAAC,qBAAqB,GAAG,KAAK,CAAC;AACxC,YAAI,CAAC,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;AACzB,YAAI,MAAM,GAAG;AACT,mBAAO,EAAE,IAAI,CAAC,IAAI,CAAC,gBAAgB;AACnC,uBAAW,EAAE,EAAE;AACf,wBAAY,EAAE,KAAK;SACtB,CAAC;AACF,gCAAK,KAAK,CAAC,wBAAK,YAAY,EAAE,MAAM,EAAE,WAAS,IAAI,EAAE;AACjD,gBAAG,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;AAClB,oBAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;AACxB,oBAAI,CAAC,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;AAC/C,oBAAI,CAAC,OAAO,CAAC,eAAe,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC;AAC1D,oBAAI,CAAC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;AAC/C,oBAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAS,IAAI,EAAE;AAC7B,wBAAI,OAAO,GAAE;AACV,oCAAY,EAAE,IAAI,CAAC,IAAI,CAAC,UAAU;AAClC,kCAAU,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ;AAC9B,qCAAa,EAAE,IAAI,CAAC,WAAW;AAC/B,sCAAc,EAAE,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,QAAQ,EAAE;AAC7D,wCAAgB,EAAE,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,GAAG,GAAG,GAC3D,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,GAAG,GAAG,GAC3D,gBAAgB,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,aAAa,GAAG,GAAG,GAC7D,iBAAiB,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,cAAc,GAAG,CAAC,CAAC;qBAC5G,CAAC;AACF,4CAAK,KAAK,CAAC,wBAAK,WAAW,EAAE,OAAO,EAAE,UAAS,KAAK,EAAE;AAClD,4BAAG,KAAK,CAAC,MAAM,KAAK,CAAC,EAAC;AAClB,gCAAI,aAAa,GAAG,CAAC,KAAK,CAAC,QAAQ,GAAG,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC;AACvD,gCAAI,CAAC,oBAAoB,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;AAC3D,gCAAI,CAAC,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;AAC/C,gCAAI,EAAE,IAAI,CAAC,IAAI,CAAC,qBAAqB,KAAK,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;AAC/D,oCAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;AAChC,oCAAI,CAAC,IAAI,CAAC,qBAAqB,GAAG,CAAC,CAAC;6BACvC;yBACJ,MAAM,IAAI,KAAK,CAAC,MAAM,KAAK,IAAI,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;;AAEpD,gCAAI,WAAW,GAAG,EAAE,CAAC;AACrB,gCAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,CAAC,CAAC;AAC3E,iCAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;AACvB,2CAAW,CAAC,CAAC,CAAC,GAAG;AACb,8CAAU,EAAE,IAAI,CAAC,IAAI,CAAC,UAAU,GAAG,CAAC,GAAG,QAAQ;AAC/C,4CAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,QAAQ,GAAG,CAAC;AACvD,yCAAK,EAAE,CAAC;iCACX;6BACJ;AACD,uCAAW,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;AAC7C,gCAAI,aAAa,GAAG,CAAC;AACjB,qCAAK,EAAE,CAAC;AACR,wCAAQ,EAAE,EAAE;6BACf,CAAC,CAAC;AACH,uCAAW,CAAC,GAAG,CAAC,UAAU,SAAS,EAAE;AACjC,oCAAI,UAAU,GAAG;AACb,gDAAY,EAAE,SAAS,CAAC,UAAU;AAClC,8CAAU,EAAE,SAAS,CAAC,QAAQ;AAC9B,iDAAa,EAAE,IAAI,CAAC,WAAW;AAC/B,kDAAc,EAAE,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,QAAQ,EAAE;AAC9D,oDAAgB,EAAE,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,GAAG,GAAG,GAC5D,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,GAAG,GAAG,GAC3D,gBAAgB,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,aAAa,GAAG,GAAG,GAC7D,iBAAiB,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,cAAc,GAAG,CAAC,CAAC;iCAC3G,CAAC;AACF,wDAAK,KAAK,CAAC,wBAAK,WAAW,EAAE,UAAU,EAAE,UAAS,SAAS,EAAE;AACzD,wCAAI,SAAS,CAAC,MAAM,KAAK,CAAC,EAAE;AACxB,4CAAI,CAAC,aAAa,CAAC,GAAG,CAAC,EAAE;AACrB,yDAAa,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;AACxB,yDAAa,CAAC,GAAG,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC;AAC7B,yDAAa,CAAC,GAAG,CAAC,CAAC,QAAQ,GAAG,EAAE,CAAC;yCACpC;AACD,qDAAa,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;AACrD,qDAAa,CAAC,GAAG,CAAC,CAAC,KAAK,GAAG,aAAa,CAAC,GAAG,CAAC,CAAC,KAAK,GAAG,SAAS,CAAC,QAAQ,CAAC;AACzE,4CAAI,aAAa,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE;AAC1C,gDAAI,aAAa,GAAG,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,KAAK,GAAG,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC;AACjE,gDAAI,CAAC,oBAAoB,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;AAC3D,gDAAI,CAAC,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;AAC/C,gDAAI,EAAE,IAAI,CAAC,IAAI,CAAC,qBAAqB,KAAK,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;AAC/D,oDAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;AAChC,oDAAI,CAAC,IAAI,CAAC,qBAAqB,GAAG,CAAC,CAAC;6CACvC;yCACJ;qCACJ;iCACJ,CAAC,CAAC;6BACN,CAAC,CAAC;yBACN,MAAM;AACH,gCAAI,aAAa,GAAG,MAAM,CAAC;AAC3B,gCAAI,CAAC,oBAAoB,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;AAC3D,gCAAI,CAAC,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;AAC/C,gCAAI,EAAE,IAAI,CAAC,IAAI,CAAC,qBAAqB,KAAK,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;AAC/D,oCAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;AAChC,oCAAI,CAAC,IAAI,CAAC,qBAAqB,GAAG,CAAC,CAAC;6BACvC;yBACJ;qBACJ,CAAC,CAAC;iBACN,CAAC,CAAC;aAEN,MAAM;AACH,oBAAI,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;AAC9B,oBAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;aACnC;SAEJ,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;KACjB;;;;;;AAMD,gBAAY,EAAE,sBAAU,IAAI,EAAE;AAC1B,YAAI,IAAI,GAAG,IAAI,CAAC;AAChB,YAAI,CAAC,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;AACzB,YAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAU,IAAI,EAAE,KAAK,EAAE;AACrC,gBAAI,IAAI,CAAC,aAAa,IAAI,SAAS,EAAC;;AAEhC,oBAAI,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,aAAa,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;aACpG,MAAM;AACH,oBAAI,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG;AACzB,wBAAI,EAAE,IAAI,CAAC,WAAW;AACtB,4BAAQ,EAAE,CAAC,CAAC;AACZ,yBAAK,EAAE,CAAC;AACR,wBAAI,EAAE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,GAAG,GAAG;iBAClD,CAAC;;;AAGF,oBAAI,YAAY,GAAG,YAAY,CAAC,cAAc,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACtE,oBAAI,YAAY,KAAK,QAAQ,IAAI,YAAY,KAAK,SAAS,EAAE;AACzD,wBAAI,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC;iBAC1D,MAAM,IAAI,YAAY,KAAK,QAAQ,EAAE;AAClC,wBAAI,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC;iBACnF;;AAED,oBAAI,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;AACvB,wBAAI,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;iBACzD;aACJ;SACJ,CAAC,CAAC;KACN;;;;;;;AAOD,wBAAoB,EAAE,8BAAS,IAAI,EAAE,IAAI,EAAE;AACvC,YAAI,IAAI,GAAG,IAAI,CAAC;AAChB,YAAI,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,UAAS,IAAI,EAAE;AACnC,gBAAG,IAAI,CAAC,IAAI,KAAK,IAAI,EAAE;AACnB,oBAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;AACrB,oBAAI,CAAC,KAAK,GAAG,IAAI,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;aACjC;SACJ,CAAC,CAAC;KACN;;;;;;AAMD,gBAAY,EAAE,wBAAW;AACrB,eAAO,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;KAC9B;;;;;;AAMD,oBAAgB,EAAE,0BAAS,IAAI,EAAE;AAC7B,YAAI,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;AACzD,YAAI,GAAG,IAAI,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC;AAC7B,YAAI,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;AAC5B,YAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,GAAG,KAAK,CAAC;KACrC;;;;;AAKD,oBAAgB,EAAE,4BAAW;AACzB,YAAI,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,CAAC;KACvE;;;;;;AAMD,qBAAiB,EAAE,2BAAS,IAAI,EAAE;AAC9B,YAAI,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;KAChC;;;;;;AAMD,0BAAsB,EAAE,gCAAS,IAAI,EAAE;AACnC,YAAI,CAAC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;KACrC;;;;;;AAMD,iBAAa,EAAE,uBAAS,IAAI,EAAE;AAC1B,YAAI,IAAI,GAAG,IAAI,CAAC;AAChB,YAAI,IAAI,CAAC,IAAI,CAAC,WAAW,KAAK,EAAE,IAAI,CAAC,IAAI,EAAE;AACvC,mBAAO;SACV;AACD,YAAI,IAAI,CAAC,IAAI,CAAC,cAAc,KAAK,CAAC,EAAE;AAChC,mBAAO;SACV;AACD,YAAI,KAAK,GAAI,IAAI,KAAK,SAAU,CAAC;AACjC,YAAI,CAAC,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;AAC7B,YAAI,WAAW,GAAG,EAAE,CAAC;AACrB,YAAI,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC;AACtD,YAAI,CAAC,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;AAC9B,YAAI,CAAC,IAAI,CAAC,mBAAmB,GAAG,EAAE,CAAC;AACnC,YAAI,CAAC,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;AAClC,YAAI,CAAC,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;AAChC,YAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,CAAC,CAAC;AAC3E,aAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;AACvB,uBAAW,CAAC,CAAC,CAAC,GAAG;AACb,0BAAU,EAAE,IAAI,CAAC,IAAI,CAAC,UAAU,GAAG,CAAC,GAAG,QAAQ;AAC/C,wBAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,QAAQ,GAAG,CAAC;AACvD,qBAAK,EAAE,CAAC;aACX;SACJ;AACD,mBAAW,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;AAC7C,YAAI,MAAM,GAAG;AACV,yBAAa,EAAE,IAAI,CAAC,IAAI,CAAC,WAAW;AACpC,2BAAe,EAAE,CAAC;AAClB,uBAAW,EAAE,IAAI;AACjB,0BAAc,EAAE,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,QAAQ,EAAE;AAC9D,4BAAgB,EAAE,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,GAAG,GAAG,GAC3D,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,GAAG,GAAG,GAC3D,gBAAgB,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,aAAa,GAAG,GAAG,GAC7D,iBAAiB,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,cAAc,GAAG,CAAC,CAAC;SAC3G,CAAC;AACF,YAAI,KAAK,GAAG,CAAC,CAAC;AACd,YAAI,YAAY,GAAG,SAAf,YAAY,CAAa,OAAO,EAAE,UAAU,EAAE;;AAE9C,gBAAI,SAAS,GAAG;AACZ,4BAAY,EAAE,OAAO,CAAC,UAAU;AAChC,6BAAa,EAAE,OAAO,CAAC,WAAW;AAClC,+BAAe,EAAE,OAAO,CAAC,aAAa;AACtC,2BAAW,EAAE,OAAO,CAAC,SAAS;AAC9B,4BAAY,EAAE,UAAU;AACxB,4BAAY,EAAE,OAAO,CAAC,UAAU;AAChC,0BAAU,EAAE,OAAO,CAAC,QAAQ;AAC5B,8BAAc,EAAE,OAAO,CAAC,YAAY;AACpC,gCAAgB,EAAE,OAAO,CAAC,cAAc;aAC3C,CAAC;;AAEF,gBAAI,MAAM,GAAG,SAAT,MAAM,CAAa,WAAW,EAAE,MAAM,EAAE,MAAM,EAAE;AAChD,wCAAK,KAAK,CAAC,wBAAK,QAAQ,EAAE,WAAW,EAAE,UAAS,IAAI,EAAE;AAClD,wBAAI,CAAC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,IAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC;AAClE,wBAAG,IAAI,CAAC,MAAM,KAAK,CAAC,EAAC;AACjB,4BAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAC,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,EAAC,CAAC,CAAC;AAC/D,4BAAG,IAAI,CAAC,IAAI,CAAC,mBAAmB,KAAK,EAAE,EAAE;AACrC,gCAAI,CAAC,IAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC;AAClC,gCAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,UAAS,CAAC,EAAC,CAAC,EAAC;AAAC,uCAAO,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK;6BAAC,CAAC,CAAC;;AAE3E,iCAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE;AACxB,oCAAI,CAAC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;6BACrH;AACD,gCAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,UAAS,IAAI,EAAC;AAC5C,oCAAI,IAAI,CAAC,SAAS,GAAG,CAAC,IAAI,IAAI,CAAC,QAAQ,GAAG,CAAC,EAAE;AACzC,wCAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iCACzC;6BACJ,CAAC,CAAC;AACH,gCAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAAC;AACvC,gCAAI,CAAC,OAAO,CAAC,YAAY,EAAE,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;AACvD,gCAAI,CAAC,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;yBAChC;qBACJ;AACD,wBAAI,IAAI,CAAC,IAAI,CAAC,mBAAmB,KAAK,EAAE,EAAE;AACtC,4BAAI,CAAC,IAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC;AAClC,4BAAI,CAAC,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;qBAChC;iBACJ,CAAC,CAAC;aACN,CAAC;AACF,kBAAM,CAAC,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;SAC9B,CAAC;AACF,mBAAW,CAAC,GAAG,CAAC,UAAU,IAAI,EAAC;AAC3B,kBAAM,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;AACpC,kBAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;AAChC,wBAAY,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;AACxB,wBAAY,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;SAC3B,CAAC,CAAC;KACN;;;;;AAKD,iBAAa,EAAE,yBAAW;AACtB,YAAI,CAAC,IAAI,CAAC,cAAc,GAAI,CAAC,CAAC;AAC9B,YAAI,CAAC,IAAI,CAAC,iBAAiB,GAAI,CAAC,CAAC;AACjC,YAAI,CAAC,IAAI,CAAC,kBAAkB,GAAI,CAAC,CAAC;AAClC,YAAI,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;AAC5B,YAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;AAC/B,YAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;KACnC;;;;;AAKD,sBAAkB,EAAE,8BAAW;AAC3B,YAAI,CAAC,IAAI,CAAC,qBAAqB,GAAI,CAAC,CAAC;AACrC,YAAI,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;KACjC;;;;;AAKD,kBAAc,EAAE,0BAAW;AACvB,YAAI,IAAI,GAAG,IAAI,CAAC;AAChB,YAAI,IAAI,CAAC,IAAI,CAAC,WAAW,KAAK,EAAE,EAAE;AAC9B,mBAAO;SACV;AACD,YAAI,IAAI,CAAC,IAAI,CAAC,kBAAkB,KAAK,CAAC,EAAE;AACpC,mBAAO;SACV;AACD,YAAI,CAAC,IAAI,CAAC,kBAAkB,GAAG,CAAC,CAAC;AACjC,YAAI,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC;AACxC,YAAI,WAAW,GAAG,EAAE,CAAC;AACrB,YAAI,CAAC,IAAI,CAAC,sBAAsB,GAAG,EAAE,CAAC;AACtC,YAAI,CAAC,IAAI,CAAC,uBAAuB,GAAG,EAAE,CAAC;AACvC,YAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,CAAC,CAAC;AAC3E,aAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;AACvB,uBAAW,CAAC,CAAC,CAAC,GAAG;AACb,0BAAU,EAAE,IAAI,CAAC,IAAI,CAAC,UAAU,GAAG,CAAC,GAAG,QAAQ;AAC/C,wBAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,QAAQ,GAAG,CAAC;AACvD,qBAAK,EAAE,CAAC;aACX;SACJ;AACD,mBAAW,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;AAC7C,YAAI,MAAM,GAAG;AACV,yBAAa,EAAE,IAAI,CAAC,IAAI,CAAC,WAAW;SACtC,CAAC;AACF,YAAI,KAAK,GAAG,CAAC,CAAC;AACd,YAAI,YAAY,GAAG,SAAf,YAAY,CAAa,OAAO,EAAE;;AAElC,gBAAI,SAAS,GAAG;AACZ,4BAAY,EAAE,OAAO,CAAC,UAAU;AAChC,6BAAa,EAAE,OAAO,CAAC,WAAW;AAClC,4BAAY,EAAE,OAAO,CAAC,UAAU;AAChC,0BAAU,EAAE,OAAO,CAAC,QAAQ;AAC5B,gCAAgB,EAAE,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,GAAG,GAAG,GACzD,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,GAAG,GAAG,GAC3D,gBAAgB,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,aAAa,GAAG,GAAG,GAC7D,iBAAiB,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,cAAc,GAAG,CAAC,CAAC;aAC9G,CAAC;AACF,gBAAI,MAAM,GAAG,SAAT,MAAM,CAAa,WAAW,EAAE,MAAM,EAAE;AACxC,wCAAK,KAAK,CAAC,wBAAK,YAAY,EAAE,WAAW,EAAE,UAAS,IAAI,EAAE;AACtD,wBAAG,IAAI,CAAC,MAAM,KAAK,CAAC,EAAC;AACjB,4BAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,EAAC,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,EAAC,CAAC,CAAC;AACnE,4BAAG,EAAE,IAAI,CAAC,IAAI,CAAC,uBAAuB,KAAK,CAAC,EAAE;AAC1C,gCAAI,CAAC,IAAI,CAAC,uBAAuB,GAAG,CAAC,CAAC;AACtC,gCAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,UAAS,CAAC,EAAC,CAAC,EAAC;AAAC,uCAAO,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK;6BAAC,CAAC,CAAC;;AAE/E,iCAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;AACvB,oCAAI,IAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,KAAK,SAAS,EAAE;AACpE,wCAAI,CAAC,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC,IAAI,CAAC,uBAAuB,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;iCACtI;6BACJ;AACD,gCAAI,CAAC,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC;AAC7D,gCAAI,CAAC,IAAI,CAAC,kBAAkB,GAAG,CAAC,CAAC;yBACpC;qBACJ;iBACJ,CAAC,CAAC;aACN,CAAC;AACF,kBAAM,CAAC,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;SAC9B,CAAC;AACF,mBAAW,CAAC,GAAG,CAAC,UAAU,IAAI,EAAC;AAC3B,kBAAM,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;AACpC,kBAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;AAChC,wBAAY,CAAC,MAAM,CAAC,CAAC;SACxB,CAAC,CAAC;KACN;;;;;AAKD,sBAAkB,EAAE,8BAAW;AAC3B,YAAI,IAAI,GAAG,IAAI,CAAC;AAChB,YAAI,IAAI,CAAC,IAAI,CAAC,WAAW,KAAK,EAAE,EAAE;AAC9B,mBAAO;SACV;AACD,YAAI,IAAI,CAAC,IAAI,CAAC,yBAAyB,KAAK,CAAC,EAAE;AAC3C,mBAAO;SACV;AACD,YAAI,CAAC,IAAI,CAAC,yBAAyB,GAAG,CAAC,CAAC;AACxC,YAAI,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC;AACxC,YAAI,WAAW,GAAG,EAAE,CAAC;AACrB,YAAI,CAAC,IAAI,CAAC,qBAAqB,GAAG,EAAE,CAAC;;AAErC,YAAI,CAAC,IAAI,CAAC,sBAAsB,GAAG;AAC/B,8BAAkB,EAAE,EAAE;AACtB,0BAAc,EAAE,EAAE;AAClB,0BAAc,EAAE,EAAE;AAClB,oBAAQ,EAAE,EAAE;SACf,CAAC;AACF,YAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,CAAC,CAAC;AAC3E,aAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;AACvB,uBAAW,CAAC,CAAC,CAAC,GAAG;AACb,0BAAU,EAAE,IAAI,CAAC,IAAI,CAAC,UAAU,GAAG,CAAC,GAAG,QAAQ;AAC/C,wBAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,QAAQ,GAAG,CAAC;AACvD,qBAAK,EAAE,CAAC;aACX;SACJ;AACD,mBAAW,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;AAC7C,YAAI,MAAM,GAAG;AACV,yBAAa,EAAE,IAAI,CAAC,IAAI,CAAC,WAAW;SACtC,CAAC;AACF,YAAI,KAAK,GAAG,CAAC,CAAC;AACd,YAAI,UAAU,GAAG,SAAb,UAAU,CAAa,OAAO,EAAE;AAChC,gBAAI,SAAS,GAAG;AACZ,4BAAY,EAAE,OAAO,CAAC,UAAU;AAChC,6BAAa,EAAE,OAAO,CAAC,WAAW;AAClC,4BAAY,EAAE,OAAO,CAAC,UAAU;AAChC,0BAAU,EAAE,OAAO,CAAC,QAAQ;AAC5B,gCAAgB,EAAE,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,GAAG,GAAG,GACzD,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,GAAG,GAAG,GAC3D,gBAAgB,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,aAAa,GAAG,GAAG,GAC7D,iBAAiB,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,cAAc,GAAG,CAAC,CAAC;aAC9G,CAAC;AACF,gBAAI,MAAM,GAAG,SAAT,MAAM,CAAa,WAAW,EAAE,MAAM,EAAE;AACxC,wCAAK,KAAK,CAAC,wBAAK,mBAAmB,EAAE,WAAW,EAAE,UAAS,IAAI,EAAE;AAC7D,wBAAG,IAAI,CAAC,MAAM,KAAK,CAAC,EAAC;AACjB,4BAAI,CAAC,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,EAAC,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,EAAC,CAAC,CAAC;AAClE,4BAAG,EAAE,IAAI,CAAC,IAAI,CAAC,sBAAsB,KAAK,CAAC,EAAE;AACzC,gCAAI,CAAC,IAAI,CAAC,sBAAsB,GAAG,CAAC,CAAC;AACrC,gCAAI,CAAC,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,UAAS,CAAC,EAAC,CAAC,EAAC;AAAC,uCAAO,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK;6BAAC,CAAC,CAAC;;AAE9E,iCAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;AACvB,oCAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,kBAAkB,GAAG,IAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,kBAAkB,CAAC,MAAM,CAC5G,IAAI,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAC7D,CAAC;AACF,oCAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,cAAc,GAAG,IAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,cAAc,CAAC,MAAM,CACpG,IAAI,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,cAAc,CACzD,CAAC;AACF,oCAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,cAAc,GAAG,IAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,cAAc,CAAC,MAAM,CACpG,IAAI,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,cAAc,CACzD,CAAC;AACF,oCAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,QAAQ,CAAC,MAAM,CACxF,IAAI,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CACnD,CAAC;6BACL;AACD,gCAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE,IAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;AACnE,gCAAI,CAAC,IAAI,CAAC,yBAAyB,GAAG,CAAC,CAAC;yBAC3C;qBACJ;iBACJ,CAAC,CAAC;aACN,CAAC;AACF,kBAAM,CAAC,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;SAC9B,CAAC;AACF,mBAAW,CAAC,GAAG,CAAC,UAAU,IAAI,EAAC;AAC3B,kBAAM,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;AACpC,kBAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;AAChC,sBAAU,CAAC,MAAM,CAAC,CAAC;SACtB,CAAC,CAAC;KACN;;;;;;AAMD,mBAAe,EAAE,yBAAS,IAAI,EAAE;AAC5B,YAAI,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;AACxD,YAAI,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;AACxD,YAAI,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;AACxD,YAAI,CAAC,IAAI,CAAC,YAAY,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;AAC1D,YAAI,CAAC,IAAI,CAAC,YAAY,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;KAC/D;;;;;AAKD,qBAAiB,EAAE,2BAAS,IAAI,EAAE;AAC9B,YAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;KACnC;;;;;AAKD,qBAAiB,EAAE,2BAAS,IAAI,EAAE;AAC9B,YAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;KACnC;;;;;;;;AAQD,oBAAgB,4BAAC,SAAS,EAAE,OAAO,EAAE;AACjC,YAAI,CAAC,OAAO,CAAC,gBAAgB,EAAE;AAC3B,qBAAS,EAAE,SAAS;AACpB,mBAAO,EAAE,OAAO;SACnB,CAAC,CAAC;KACN;;;;;;;AAOD,gBAAY,wBAAC,KAAK,EAAE;AAChB,YAAI,IAAI,GAAG,IAAI,CAAC;AAChB,YAAI,KAAK,GAAG;AACR,oBAAQ,EAAE,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,KAAK,CAAC,GAAG;AACrC,kBAAM,EAAE,MAAM;SACjB,CAAC;AACF,gCAAK,KAAK,CAAC,wBAAK,UAAU,EAAE,KAAK,EAAE,UAAU,IAAI,EAAE;AAC/C,gBAAI,aAAa,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;AACxD,gBAAI,CAAC,OAAO,CAAC,YAAY,EAAE,aAAa,CAAC,CAAC;SAC7C,CAAC,CAAC;KACN;;;;;;;;;;AAUD,qBAAiB,6BAAC,IAAI,EAAE,KAAK,EAAE;AAC3B,YAAI,OAAO,GAAG,EAAE,CAAC;AACjB,YAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;AACnB,gBAAI,IAAI,CAAC,MAAM,CAAC,iBAAiB,KAAK,EAAE,EAAE;AACtC,uBAAO,GAAG,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC;aAC3C,MAAM;AACH,uBAAO,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,OAAO,CAAC;aAC7F;SACJ,MAAM;AACH,mBAAO,GAAG,SAAS,CAAC;SACvB;AACD,YAAI,aAAa,GAAG;AAChB,iBAAK,EAAE,KAAK;AACZ,iBAAK,EAAE,KAAK,CAAC,KAAK;AAClB,iBAAK,EAAE,CACH,CAAC,KAAK,EAAE,KAAK,CAAC,MAAM,CAAC,EACrB,CAAC,KAAK,EAAE,OAAO,CAAC,EAChB,CAAC,KAAK,EAAE,KAAK,CAAC,UAAU,CAAC,EACzB,CAAC,KAAK,EAAE,KAAK,CAAC,SAAS,CAAC,EACxB,CAAC,KAAK,EAAE,KAAK,CAAC,MAAM,GAAG,GAAG,CAAC,EAC3B,CAAC,KAAK,EAAE,KAAK,CAAC,MAAM,GAAG,GAAG,CAAC,CAC9B;;;;;;;SAOJ,CAAC;AACF,eAAO,aAAa,CAAC;KACxB;CACJ,CAAC,CAAC;;qBAEY,UAAU","file":"/script/modules/trackcontrol/stores/trackStore.js","sourcesContent":["/**\r\n * @file 轨迹管理台Reflux Store\r\n * @author 崔健 cuijian03@baidu.com 2016.08.23\r\n */\r\n\r\nimport TrackAction from '../actions/trackAction'\r\nimport Urls from '../../../common/urls'\r\nimport Commonfun from '../../../common/commonfun'\r\n\r\nvar TrackStore = Reflux.createStore({\r\n    listenables: [TrackAction],\r\n    init: function() {\r\n    },\r\n    data: {\r\n        // service名称\r\n        service_name: '',\r\n        // sercice类型\r\n        service_type: 0,\r\n        // 当前全部页码\r\n        currentAllPage: 0,\r\n        // 当前在线页码\r\n        currentOnlinePage: 0,\r\n        // 当前离线页码\r\n        currentOfflinePage: 0,\r\n        // 当前全部适配view entity数据\r\n        allEntities: [],\r\n        // 当前在线适配view entity数据\r\n        onlineEntities: [],\r\n        // 当前离线适配view entity数据\r\n        offlineEntities: [],\r\n        // 当前全部完整entity数据\r\n        allCompleteEntities: [],\r\n        // 当前在线完整entity数据\r\n        onlineCompleteEntities: [],\r\n        // 当前离线完整entity数据\r\n        offlineCompleteEntities: [],\r\n        // 当前检索关键字\r\n        searchQuery: '',\r\n        // 轨迹查询检索当前关键字\r\n        searchQueryTrack: '',\r\n        // 当前service自定义字段描述\r\n        column: [],\r\n        // 当前service自定字段key\r\n        column_key: [],\r\n        // // 当前地图中选中车辆\r\n        selectCar: {},\r\n        // 当前track列表\r\n        trackList: [],\r\n        // 当前track页码\r\n        currentTrackPageIndex: 0,\r\n        // 当前选中开始时间\r\n        start_time: 0,\r\n        // 当前结束时间\r\n        end_time: 0,\r\n        // 当前时间往前十分钟，作为检测在线离线时间\r\n        onlineTime:  Math.ceil(new Date().getTime() / 1000) - 600,\r\n        // 异步加载轨迹总长计数\r\n        tracklistloadedConunt: 0,\r\n        // 异步加载的选中的轨迹排序数据\r\n        trackRouteSortData: [],\r\n        // 实际返回给view的轨迹数据\r\n        trackRoutePointData: [],\r\n        // 实际返回过滤掉00点 \r\n        trackRouteNoZero: [],\r\n        //标记正在轨迹检索 0未检索 1正在检索\r\n        trackSearching: 0,\r\n        //标记正在停留点检索 0未检索 1正在检索\r\n        staypointSearching: 0,\r\n        //标记正在轨迹分析检索 0未检索 1正在检索\r\n        analysisbehaviorSearching: 0,\r\n        // 异步加载的选中的轨迹数据计数\r\n        trackRouteDataCount: 0,\r\n        // 当前选中的轨迹\r\n        selectTrack: '',\r\n        // 异步加载的停留点排序数据\r\n        trackStayRouteSortData: [],\r\n        // 实际返回给view的停留点数据\r\n        trackStayRoutePointData: [],\r\n        // 异步加载的停留点数据计数\r\n        trackStayRouteDataCount: 0,\r\n        // 轨迹纠偏状态对象\r\n        trackProcess: {\r\n            is_processed: '0',\r\n            need_denoise: '1',\r\n            need_vacuate: '1',\r\n            need_mapmatch: '0',\r\n            transport_mode: '1'\r\n        },\r\n        transport_mode: [\r\n            'driving',\r\n            'riding',\r\n            'walking'\r\n        ],\r\n        // 异步加载的驾驶分析排序数据\r\n        trackBehaviorSortData: [],\r\n        // 实际返回给view的驾驶分析数据\r\n        trackBehaviorPointData: {\r\n            harsh_acceleration: [],\r\n            harsh_breaking: [],\r\n            harsh_steering: [],\r\n            speeding: []\r\n        },\r\n        // 异步加载的驾驶分析数据计数\r\n        trackBehaviorDataCount: 0,\r\n        // 标记当前是否正在检索 0在检索 1否\r\n        searchingAll: 0,\r\n        searchingOnline: 0,\r\n        searchingOffline: 0,\r\n        selectCompleteEntities: [],\r\n        // 按bound查找entity\r\n        boundsEntity: [],\r\n        // bound检索计数\r\n        boundsEntityCount: 0,\r\n        // 当前显示bound检索类型\r\n        // 用户在切换全部，在线，离线时进行修改，bounds检索对应状态下的entity\r\n        boundsType: 'all',\r\n        // 是否开启范围检索\r\n        switchBounds: false,\r\n        // 当前的管理项，分为实时监控和轨迹查询\r\n        managetab: 0,\r\n        // boundsearch的时间戳\r\n        boundsearchTimestamp: 0,\r\n        // 三种类型的entity的total\r\n        entityTotal: {\r\n            all: 0,\r\n            online: 0,\r\n            offline: 0\r\n        }\r\n    },\r\n    /**\r\n     * 响应Action switchtab，变更页签\r\n     *\r\n     * @param {number} index 要变更到的tab\r\n     */\r\n    onSwitchmanagetab: function(index) {\r\n        this.data.managetab = index;\r\n        this.trigger('switchmanagetab', index);\r\n    },\r\n    onGetservicename: function() {\r\n        this.trigger('servicename', '示例DEMO');\r\n        // 车辆行业0，\r\n        this.trigger('servicetype', 0);\r\n    },\r\n    /**\r\n     * 响应Action switchmonitortab，变更实时监控中的列表\r\n     *\r\n     * @param {number} index 要变更到的tab\r\n     */\r\n    onSwitchmonitortab: function(index) {\r\n        let that = this;\r\n        switch (index) {\r\n            case 0:\r\n                that.data.boundsType = 'all';\r\n                break;\r\n            case 1:\r\n                that.data.boundsType = 'online';\r\n                break;\r\n            case 2:\r\n                that.data.boundsType = 'offline';\r\n                break;\r\n        }\r\n        this.trigger('switchmonitortab', index);\r\n        this.onBoundsearchentity();\r\n    },\r\n    /**\r\n     * 响应Action searchallentity，查询所有entity\r\n     *\r\n     * @param {number} index页码\r\n     */\r\n    onSearchallentity: function(index) {\r\n        this.updateOnlineTime();\r\n        var that = this;\r\n        if (that.data.searchingAll === 1) {\r\n            return;\r\n        }\r\n        that.data.searchingAll = 1;\r\n        index = index || that.data.currentAllPage;\r\n        that.data.currentAllPage = index;\r\n        that.data.allEntities = [];\r\n        that.data.allCompleteEntities = [];\r\n        var params = {\r\n            'query': that.data.searchQuery,\r\n            'page_index': index,\r\n            'page_size': 10,\r\n        };\r\n\r\n        Urls.jsonp(Urls.searchEntity, params, function(data) {\r\n            if (data.status === 0) {\r\n                that.setAllEntities(data);\r\n                that.setallCompleteEntities(data);\r\n                that.data.entityTotal.all = data.total;\r\n                this.trigger('totalall', data.total);\r\n                var allpage = Math.ceil(data.total / 10);\r\n                this.trigger('totalallpage', allpage);\r\n                that.data.searchingAll = 0;\r\n            } else {\r\n                that.setAllEntities([]);\r\n                that.setallCompleteEntities([]);\r\n                this.trigger('totalall', 0);\r\n                // this.trigger('totalallpage', 0);\r\n                this.trigger('initallpage');\r\n                that.data.searchingAll = 0;\r\n            }\r\n        }.bind(this));\r\n    },\r\n    /**\r\n     * 响应Action searchofflineentity，查询所有entity\r\n     *\r\n     * @param {number} index页码\r\n     */\r\n    onSearchofflineentity: function(index) {\r\n        var that = this;\r\n        if (that.data.searchingOffline === 1) {\r\n            return;\r\n        }\r\n        that.data.searchingOffline = 1;\r\n        index = index || that.data.currentOfflinePage;\r\n        that.data.currentOfflinePage = index;\r\n        that.data.offlineEntities = [];\r\n        that.data.offlineCompleteEntities = [];\r\n        var params = {\r\n            'filter': 'inactive_time:' + that.data.onlineTime,\r\n            'query': that.data.searchQuery,\r\n            'page_index': index,\r\n            'page_size': 10,\r\n        };\r\n        Urls.jsonp(Urls.searchEntity, params, function(data) {\r\n            if (data.status === 0) {\r\n                that.setOfflineEntities(data);\r\n                that.setOfflineCompleteEntities(data);\r\n                that.data.entityTotal.offline = data.total;\r\n                this.trigger('totaloffline', data.total);\r\n                this.trigger('totalofflinepage', Math.ceil(data.total / 10));\r\n                that.data.searchingOffline = 0;\r\n            } else {\r\n                that.setOfflineEntities([]);\r\n                that.setOfflineCompleteEntities([]);\r\n                this.trigger('totaloffline', 0);\r\n                this.trigger('totalofflinepage', 0);\r\n                this.trigger('initofflinepage');\r\n                that.data.searchingOffline = 0;\r\n            }\r\n        }.bind(this));\r\n    },\r\n    /**\r\n     * 响应Action searchofflineentity，查询所有entity\r\n     *\r\n     * @param {number} index页码\r\n     */\r\n    onSearchonlineentity: function(index) {\r\n        var that = this;\r\n        if (that.data.searchingOnline === 1) {\r\n            return;\r\n        }\r\n        that.data.searchingOnline = 1;\r\n        index = index || that.data.currentOnlinePage;\r\n        that.data.currentOnlinePage = index;\r\n        that.data.onlineEntities = [];\r\n        that.data.onlineCompleteEntities = [];\r\n        var params = {\r\n            'filter': 'active_time:' + that.data.onlineTime,\r\n            'query': that.data.searchQuery,\r\n            'page_index': index,\r\n            'page_size': 10,\r\n        };\r\n        Urls.jsonp(Urls.searchEntity, params, function(data) {\r\n            if (data.status === 0) {\r\n                that.setOnlineEntities(data);\r\n                that.setonlineCompleteEntities(data);\r\n                that.data.entityTotal.online = data.total;\r\n                this.trigger('totalonline', data.total);\r\n                this.trigger('totalonlinepage', Math.ceil(data.total / 10));\r\n                that.data.searchingOnline = 0;\r\n            } else {\r\n                that.setOnlineEntities([]);\r\n                that.setonlineCompleteEntities([]);\r\n                this.trigger('totalonline', 0);\r\n                this.trigger('totalonlinepage', 0);\r\n                this.trigger('initonlinepage');\r\n                that.data.searchingOnline = 0;\r\n            }\r\n        }.bind(this));\r\n    },\r\n    /**\r\n     * 响应Action listcolumn 同时Store内部调用，查询当前service_id的自定义字段\r\n     *\r\n     */\r\n    onListcolumn: function() {\r\n        var that = this;\r\n        var params = {\r\n        };\r\n        Urls.jsonp(Urls.columnsList, params, function(data) {\r\n            if (data.status === 0) {\r\n                data.columns.map(function(item) {\r\n                    that.data.column.push(item.column_desc !== '' ? item.column_desc : item.column_key);\r\n                    that.data.column_key.push(item.column_key);\r\n                });\r\n                this.trigger('listcolumn');\r\n            }\r\n\r\n        }.bind(this));\r\n    },\r\n\r\n    /**\r\n     * 响应Action switchboundsearch 控制是否默认进行boundsearch\r\n     *\r\n     * @param {boolean} data 是否进行boundsearch\r\n     */\r\n    onSwitchboundsearch(data) {\r\n        this.data.switchBounds = data;\r\n        this.onBoundsearchentity();\r\n    },\r\n\r\n    /**\r\n     * 响应Action boundsearchentity 返回当前地图区域的entity\r\n     *\r\n     * @param {boolean} display 如果传false那么则直接返回空数据\r\n     */\r\n    onBoundsearchentity(display) {\r\n        let that = this;\r\n        let time = new Date();\r\n        that.data.boundsearchTimestamp = time.getTime();\r\n        let inTimestamp = that.data.boundsearchTimestamp;\r\n        let inBoundsEntity = [];\r\n        let inBoundsEntityCount = 0;\r\n        let total = 0;\r\n        const boundsLimit = 400000;\r\n        let bounds = map.getBounds();\r\n        let center = bounds.getCenter();\r\n        let northEast = bounds.getNorthEast();\r\n        let southWest = bounds.getSouthWest();\r\n        let page_size = map.getZoom() * 10;\r\n        const width = 3;\r\n        const height = 3;\r\n        let boundsDistance = map.getDistance(northEast, southWest);\r\n        if (!this.data.switchBounds || display === false || this.data.managetab === 1) {\r\n            that.trigger('boundsearchDec', '当前视野设备数量');\r\n            that.trigger('boundsearchentitytotal', 0);\r\n            that.trigger('boundsearchentity', []);\r\n            return;\r\n        }\r\n        \r\n        let boundsArr = [];\r\n\r\n        // 把屏幕分为 width * height 个区域，分别调用boundsearch加载车辆数据\r\n        let lngLatToPoint = function (lnglat) {\r\n            return map.getMapType().getProjection().lngLatToPoint(lnglat);\r\n        };\r\n        let pointToLngLat = function (point) {\r\n            return map.getMapType().getProjection().pointToLngLat(point);\r\n        };\r\n        let pixelNorthEast = lngLatToPoint(northEast);\r\n        let pixelSouthWest = lngLatToPoint(southWest);\r\n        let widthUnit = (pixelNorthEast.x - pixelSouthWest.x) / width;\r\n        let heightUnit = (pixelNorthEast.y - pixelSouthWest.y) / height;\r\n        for (let i = 0; i < width; i++) {\r\n            for (let j = 0; j < height; j++) {\r\n                let leftButtom = pointToLngLat(new BMap.Pixel(pixelSouthWest.x + widthUnit * i, pixelSouthWest.y + heightUnit * j));\r\n                let rightTop = pointToLngLat(new BMap.Pixel(pixelSouthWest.x + widthUnit * (i + 1), pixelSouthWest.y + heightUnit * (j + 1)));\r\n                boundsArr.push(leftButtom.lat + ',' + leftButtom.lng + ';' + rightTop.lat + ',' + rightTop.lng);\r\n            }\r\n        }\r\n        let filter = '';\r\n        switch (that.data.boundsType) {\r\n            case 'all':\r\n                filter = '';\r\n                break;\r\n            case 'online':\r\n                filter = 'active_time:' + that.data.onlineTime;\r\n                break;\r\n            case 'offline':\r\n                filter = 'inactive_time:' + that.data.onlineTime;\r\n                break;\r\n        }\r\n\r\n        let getBoundsearchResultTable = function () {\r\n            boundsArr.map(function (item, index) {\r\n                let params = {\r\n                    'bounds': item,\r\n                    'filter': filter,\r\n                    'page_size': page_size\r\n                };\r\n                Urls.jsonp(Urls.boundsearchEntity, params, function (data) {\r\n                    if (data.status === 0) {\r\n                        data.entities.map(function (eitem, eindex) {\r\n                            let status = '';\r\n                            let entity_status = 0;\r\n                            if (Commonfun.getOnlineStatus(eitem.latest_location.loc_time) === 0) {\r\n                                eitem.latest_location.speed = eitem.latest_location.speed || 0;\r\n                                status = Commonfun.getSpeed(eitem.latest_location.speed);\r\n                                entity_status = status === '静止' ? 1 : 0;\r\n                            } else {\r\n                                entity_status = 2;\r\n                                status = '离线';\r\n                            }\r\n                            inBoundsEntity.push({\r\n                                entity_name: eitem.entity_name,\r\n                                point: [eitem.latest_location.longitude, eitem.latest_location.latitude],\r\n                                direction: eitem.latest_location.direction,\r\n                                status: status,\r\n                                entity_status: entity_status\r\n                            });\r\n\r\n\r\n                        });\r\n                        total = total + data.total;\r\n                    }\r\n                    if (++inBoundsEntityCount === width * height && inTimestamp === that.data.boundsearchTimestamp) {\r\n                        that.trigger('boundsearchentity', inBoundsEntity);\r\n                        that.trigger('boundsearchDec', '当前视野设备数量');\r\n                        that.trigger('boundsearchentitytotal', total);\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        let getBoundsearchResultOnce = function (page_index) {\r\n            let temp = southWest.lat + ',' + southWest.lng + ';' + northEast.lat + ',' + northEast.lng;\r\n            let params = {\r\n                'bounds': temp,\r\n                'filter': filter,\r\n                'page_index': page_index,\r\n                'page_size': 1000\r\n            };\r\n            Urls.jsonp(Urls.boundsearchEntity, params, function (data) {\r\n                if (inTimestamp !== that.data.boundsearchTimestamp) {\r\n                    return;\r\n                }\r\n                if (data.status === 3003) {\r\n                    that.trigger('boundsearchDec', '当前视野设备数量');\r\n                    that.trigger('boundsearchentitytotal', 0);\r\n                    that.trigger('boundsearchentity', []);\r\n                    return;\r\n                }\r\n                if (data.status === 0) {\r\n                    that.trigger('boundsearchDec', '当前视野设备数量');\r\n                    that.trigger('boundsearchentitytotal', data.total);\r\n                    if (data.total > 5000) {\r\n                        getBoundsearchResultTable();\r\n                        return;\r\n                    }\r\n                    data.entities.map(function (eitem, eindex) {\r\n                        let status = '';\r\n                        let entity_status = 0;\r\n                        if (Commonfun.getOnlineStatus(eitem.latest_location.loc_time) === 0) {\r\n                            eitem.latest_location.speed = eitem.latest_location.speed || 0;\r\n                            status = Commonfun.getSpeed(eitem.latest_location.speed);\r\n                            entity_status = status === '静止' ? 1 : 0;\r\n                        } else {\r\n                            entity_status = 2;\r\n                            status = '离线';\r\n                        }\r\n                        inBoundsEntity.push({\r\n                            entity_name: eitem.entity_name,\r\n                            point: [eitem.latest_location.longitude, eitem.latest_location.latitude],\r\n                            direction: eitem.latest_location.direction,\r\n                            status: status,\r\n                            entity_status: entity_status\r\n                        });\r\n                    });\r\n                    if (inBoundsEntity.length !== data.total) {\r\n                        getBoundsearchResultOnce(page_index + 1);\r\n                    } else {\r\n                        that.trigger('boundsearchentity', inBoundsEntity);\r\n                    }\r\n                }\r\n            });\r\n        };\r\n        // 划分成width * height 区域后仍然超过后端检索距离限制，则调用search检索\r\n        if (boundsDistance > width * boundsLimit) {\r\n            let tempData = [];\r\n            let tempCount = 0;\r\n            let tempTotal = that.data.entityTotal[that.data.boundsType];\r\n            let page = Math.ceil(tempTotal / (map.getZoom() * 20));\r\n            // return;\r\n            let j = page >= 3 ? 3 : page;\r\n            for (let i = 0; i < j; i = i + 1) {\r\n                let page_index = Math.ceil(i * 0.5 * page) + 1;\r\n                let params = {\r\n                    'filter': filter,\r\n                    'page_index': page_index,\r\n                    'page_size': map.getZoom() * 20,\r\n                    'sortby': 'loc_time:desc'\r\n                };\r\n                Urls.jsonp(Urls.searchEntity, params, function (data) {\r\n                    if (inTimestamp !== that.data.boundsearchTimestamp) {\r\n                        return;\r\n                    }\r\n                    if (data.status === 0) {\r\n                        data.entities.map(function (eitem, eindex) {\r\n                            let status = '';\r\n                            let entity_status = 0;\r\n                            if (Commonfun.getOnlineStatus(eitem.latest_location.loc_time) === 0) {\r\n                                eitem.latest_location.speed = eitem.latest_location.speed || 0;\r\n                                status = Commonfun.getSpeed(eitem.latest_location.speed);\r\n                                entity_status = status === '静止' ? 1 : 0;\r\n                            } else {\r\n                                entity_status = 2;\r\n                                status = '离线';\r\n                            }\r\n                            tempData.push({\r\n                                entity_name: eitem.entity_name,\r\n                                point: [eitem.latest_location.longitude, eitem.latest_location.latitude],\r\n                                direction: eitem.latest_location.direction,\r\n                                status: status,\r\n                                entity_status: entity_status\r\n                            });\r\n                        });\r\n                        if (++tempCount === j) {\r\n                            that.trigger('boundsearchDec', '当前类型设备数量');\r\n                            that.trigger('boundsearchentitytotal', data.total);\r\n                            that.trigger('boundsearchentity', tempData);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            return;\r\n        }\r\n        if (boundsDistance < boundsLimit) {\r\n            getBoundsearchResultOnce(1);\r\n        } else {\r\n            getBoundsearchResultTable();\r\n        }\r\n    },\r\n\r\n    /**\r\n     * 响应Action selectallcar 返回选中车辆具体信息\r\n     *\r\n     */\r\n    onSelectcar: function(entity_name, entity_status, entity_id) {\r\n        var that = this;\r\n        if(that.data.selectCar.entity_name === undefined && entity_name === undefined) {\r\n            return;\r\n        }\r\n        let interval = false;\r\n        if (that.data.selectCar.entity_name !== undefined && entity_name === undefined) {\r\n            interval = true;\r\n        }\r\n        entity_name = entity_name || that.data.selectCar.entity_name;\r\n        entity_status = entity_status !== undefined ? entity_status : that.data.selectCar.entity_status;\r\n        that.data.selectCompleteEntities = [];\r\n        var params = {\r\n            'query': entity_name,\r\n            'page_index': 1,\r\n        };\r\n\r\n        Urls.jsonp(Urls.searchEntity, params, function(data) {\r\n            if (data.status === 0) {\r\n                data.entities.map(function(item, index) {\r\n                    if (item.entity_name === entity_name) {\r\n                        var point = data.entities[0].latest_location;\r\n                        var paramsGeo = {\r\n                            location: point.latitude + ',' + point.longitude,\r\n                            output: 'json'\r\n                        };\r\n                        Urls.jsonp(Urls.getAddress, paramsGeo, function(dataGeo) {\r\n                            var temp = [];\r\n                            that.data.column_key.map(function(keyitem, index) {\r\n                                if (keyitem === '_provider') {\r\n                                    \r\n                                } else {\r\n                                    temp[index] = [that.data.column[index] + ':', item[keyitem] !== undefined ? item[keyitem] : '无'];\r\n                                }\r\n                            });\r\n                            temp = temp.filter(function(item) {\r\n                                return item;\r\n                            });\r\n                            var lnglat = item.latest_location.longitude.toFixed(6) + ',' + item.latest_location.latitude.toFixed(6);\r\n                            var address = '地址未解析成功';\r\n                            if (dataGeo.result.formatted_address !== '') {\r\n                                address = dataGeo.result.formatted_address;\r\n                            } else {\r\n                                address = dataGeo.result.addressComponent.city + ', ' + location_desc.result.addressComponent.country;\r\n                            }\r\n                            that.data.selectCompleteEntities[index] = {\r\n                                point: [item.latest_location.longitude, item.latest_location.latitude],\r\n                                direction:item.latest_location.direction,\r\n                                status: Commonfun.getInfoWindowStatus(item.latest_location.speed, item.latest_location.loc_time, item.latest_location.direction),\r\n                                infor: [\r\n                                    ['状态:', Commonfun.getInfoWindowStatus(item.latest_location.speed, item.latest_location.loc_time, item.latest_location.direction)],\r\n                                    ['地址:', address],\r\n                                    ['定位:', lnglat],\r\n                                    ['时间:', Commonfun.getLocalTime(item.latest_location.loc_time)]\r\n                                ].concat(temp)\r\n                            };\r\n\r\n                            // 从localstorage中获取应该显示到列表中的字段，entitydesc或者entityname\r\n                            let entityOption = localStorage['entityOption' + that.data.serviceId];\r\n                            if (entityOption === 'byname' || entityOption === undefined) {\r\n                                that.data.selectCompleteEntities[index]['entity_print'] = item.entity_name;\r\n                                if (!!item.entity_desc) {\r\n                                    that.data.selectCompleteEntities[index]['infor'].unshift(['描述', item.entity_desc]);\r\n                                }\r\n                            } else if (entityOption === 'bydesc') {\r\n                                that.data.selectCompleteEntities[index]['entity_print'] = item.entity_desc ? item.entity_desc : '无';\r\n                                that.data.selectCompleteEntities[index]['infor'].unshift(['名称', item.entity_name]);\r\n                            }\r\n                            that.data.selectCompleteEntities[index]['entity_name'] = item.entity_name;\r\n                            that.data.selectCompleteEntities[index].entity_status = entity_status;\r\n                            that.data.selectCar = that.data.selectCompleteEntities[index];\r\n                            // 对计时器触发的entity选中进行识别，添加标识，方便view层做处理\r\n                            that.data.selectCompleteEntities[index].interval = interval;\r\n                            that.trigger('selectcardata',that.data.selectCompleteEntities[index]);\r\n                        });\r\n                    }  \r\n                });\r\n               \r\n            } else {\r\n                \r\n            }\r\n        }.bind(this));\r\n    },\r\n\r\n    /**\r\n     * 响应Action closemonitorinfobox 关闭实时监控中的infobox\r\n     *\r\n     */\r\n    onClosemonitorinfobox() {\r\n        this.data.selectCar.entity_name = undefined;\r\n    },\r\n\r\n    /**\r\n     * 响应Action hideselectcar 返回选中车辆具体信息\r\n     *\r\n     */\r\n    onHideselectcar: function() {\r\n        this.trigger('hideselectcar');\r\n    },\r\n    /**\r\n     * Store内部，根据查询结果设置entity格式\r\n     *\r\n     * @param {array} data entity数据\r\n     */\r\n    setAllEntities: function(data) {\r\n        var that = this;\r\n        var descIndex = 0;\r\n        if (data.length === 0) {\r\n            return;\r\n        }\r\n        data.entities.map(function (item, index) {\r\n            var desc = '';\r\n            if (Commonfun.getOnlineStatus(item.latest_location.loc_time) === 0) {\r\n                item.latest_location.speed = item.latest_location.speed || 0;\r\n                desc = Commonfun.getSpeed(item.latest_location.speed);\r\n                descIndex = desc === '静止' ? 1 : 0;\r\n            } else {\r\n                desc = '离线';\r\n                descIndex = 2;\r\n            }\r\n            that.data.allEntities[index] = [\r\n                // item.entity_desc ? item.entity_desc : item.entity_name,\r\n                item.entity_name,\r\n                desc,\r\n                descIndex,\r\n                '',\r\n                item.entity_desc ? item.entity_desc : '无'\r\n            ];\r\n            // 为managerdemo添加特殊识别字段entity_id\r\n            if (!!item.entity_id) {\r\n                that.data.allEntities[index][3] = item.entity_id;\r\n            }\r\n            // 从localstorage中获取应该显示到列表中的字段，entitydesc或者entityname\r\n            let entityOption = localStorage['entityOption' + that.data.serviceId];\r\n            if (entityOption === 'byname' || entityOption === undefined) {\r\n                that.data.allEntities[index][5] = item.entity_name;\r\n            } else if (entityOption === 'bydesc') {\r\n                that.data.allEntities[index][5] = item.entity_desc ? item.entity_desc : '无';\r\n            }\r\n        });\r\n    },\r\n    /**\r\n     * Store内部，根据查询结果设置完整entity格式\r\n     *\r\n     * @param {array} data entity数据\r\n     */\r\n    setallCompleteEntities: function(data) {\r\n        // that.data.allCompleteEntities = data.entities;\r\n        var that = this;\r\n        if (data.length === 0) {\r\n            that.trigger('alllist', that.data.allEntities);\r\n            return;\r\n        }\r\n        that.data.allSize = data.size;\r\n        that.trigger('alllist', that.data.allEntities);\r\n    },\r\n    /**\r\n     * Store内部，根据查询结果设置entity格式\r\n     *\r\n     * @param {array} data entity数据\r\n     */\r\n    setOfflineEntities: function(data) {\r\n        var that = this;\r\n        if (data.length === 0) {\r\n            return;\r\n        }\r\n        var descIndex = 0;\r\n        data.entities.map(function (item, index) {\r\n            var desc = '';\r\n            if (Commonfun.getOnlineStatus(item.latest_location.loc_time) === 0) {\r\n                item.latest_location.speed = item.latest_location.speed || 0;\r\n                desc = Commonfun.getSpeed(item.latest_location.speed);\r\n                descIndex = desc === '静止' ? 1 : 0;\r\n            } else {\r\n                desc = '离线';\r\n                descIndex = 2;\r\n            }\r\n            that.data.offlineEntities[index] = [\r\n                // item.entity_desc ? item.entity_desc : item.entity_name,\r\n                item.entity_name,\r\n                desc,\r\n                descIndex,\r\n                '',\r\n                item.entity_desc ? item.entity_desc : '无'\r\n\r\n            ];\r\n            // 为managerdemo添加特殊识别字段entity_id\r\n            if (!!item.entity_id) {\r\n                that.data.offlineEntities[index][3] = item.entity_id;\r\n            }\r\n            // 从localstorage中获取应该显示到列表中的字段，entitydesc或者entityname\r\n            let entityOption = localStorage['entityOption' + that.data.serviceId];\r\n            if (entityOption === 'byname' || entityOption === undefined) {\r\n                that.data.offlineEntities[index][5] = item.entity_name;\r\n            } else if (entityOption === 'bydesc') {\r\n                that.data.offlineEntities[index][5] = item.entity_desc ? item.entity_desc : '无';\r\n            }\r\n        });\r\n    },\r\n    /**\r\n     * Store内部，根据查询结果设置离线entity格式\r\n     *\r\n     * @param {array} data entity数据\r\n     */\r\n    setOfflineCompleteEntities: function(data) {\r\n        // that.data.allCompleteEntities = data.entities;\r\n        var that = this;\r\n        if (data.length === 0) {\r\n            that.trigger('offlinelist', that.data.offlineEntities);\r\n            return;\r\n        }\r\n        that.data.offlineSize = data.size;\r\n        that.trigger('offlinelist', that.data.offlineEntities);\r\n    },\r\n    /**\r\n     * Store内部，根据查询结果设置entity格式\r\n     *\r\n     * @param {array} data entity数据\r\n     */\r\n    setOnlineEntities: function(data) {\r\n        var that = this;\r\n        if (data.length === 0) {\r\n            return;\r\n        }\r\n        var descIndex = 0;\r\n        data.entities.map(function (item, index) {\r\n            var desc = '';\r\n            if (Commonfun.getOnlineStatus(item.latest_location.loc_time) === 0) {\r\n                item.latest_location.speed = item.latest_location.speed || 0;\r\n                desc = Commonfun.getSpeed(item.latest_location.speed);\r\n                descIndex = desc === '静止' ? 1 : 0;\r\n            } else {\r\n                desc = '离线';\r\n                descIndex = 2;\r\n            }\r\n            that.data.onlineEntities[index] = [\r\n                // item.entity_desc ? item.entity_desc : item.entity_name,\r\n                item.entity_name,\r\n                desc,\r\n                descIndex,\r\n                '',\r\n                item.entity_desc ? item.entity_desc : '无'\r\n            ];\r\n            // 为managerdemo添加特殊识别字段entity_id\r\n            if (!!item.entity_id) {\r\n                that.data.onlineEntities[index][3] = item.entity_id;\r\n            }\r\n            // 从localstorage中获取应该显示到列表中的字段，entitydesc或者entityname\r\n            let entityOption = localStorage['entityOption' + that.data.serviceId];\r\n            if (entityOption === 'byname' || entityOption === undefined) {\r\n                that.data.onlineEntities[index][5] = item.entity_name;\r\n            } else if (entityOption === 'bydesc') {\r\n                that.data.onlineEntities[index][5] = item.entity_desc ? item.entity_desc : '无';\r\n            }\r\n        });\r\n    },\r\n    /**\r\n     * Store内部，根据查询结果设置离线entity格式\r\n     *\r\n     * @param {array} data entity数据\r\n     */\r\n    setonlineCompleteEntities: function(data) {\r\n        // that.data.allCompleteEntities = data.entities;\r\n        var that = this;\r\n        if (data.length === 0) {\r\n            that.trigger('onlinelist', that.data.onlineEntities);\r\n            return;\r\n        }\r\n        that.data.onlineSize = data.size;\r\n        that.trigger('onlinelist', that.data.onlineEntities);\r\n    },\r\n    /**\r\n     * 响应Action tracklist，查询所有tracklist\r\n     *\r\n     * @param {number} index页码\r\n     */\r\n    onTracklist: function(index) {\r\n        // this.trigger('tracklist', []);\r\n        var that = this;\r\n        index = index || that.data.currentTrackPageIndex;\r\n        that.data.currentTrackPageIndex = index;\r\n        that.data.trackList = [];\r\n        var params = {\r\n            'query': that.data.searchQueryTrack,\r\n            'page_size': 10,\r\n            'page_index': index \r\n        };\r\n        Urls.jsonp(Urls.searchEntity, params, function(data) {\r\n            if(data.status === 0) {\r\n                that.setTracklist(data);\r\n                this.trigger('tracklist', that.getTracklist());\r\n                this.trigger('tracklistpage', Math.ceil(data.total / 10));\r\n                that.data.trackListSize = data.entities.length;\r\n                data.entities.map(function(item) {\r\n                    var paramsd ={\r\n                       'start_time': that.data.start_time,\r\n                       'end_time': that.data.end_time,\r\n                       'entity_name': item.entity_name,\r\n                       'is_processed': that.data.trackProcess.is_processed.toString(),\r\n                        'process_option': 'need_denoise=' + that.data.trackProcess.need_denoise + ','+\r\n                                          'need_vacuate=' + that.data.trackProcess.need_vacuate + ',' +\r\n                                          'need_mapmatch=' + that.data.trackProcess.need_mapmatch + ',' +\r\n                                          'transport_mode=' + that.data.transport_mode[that.data.trackProcess.transport_mode - 1]\r\n                    };\r\n                    Urls.jsonp(Urls.getDistance, paramsd, function(datad) {\r\n                        if(datad.status === 0){\r\n                            var trackDistance = (datad.distance / 1000).toFixed(1);\r\n                            that.setTracklistDistance(trackDistance, item.entity_name);\r\n                            that.trigger('tracklist', that.getTracklist());\r\n                            if (++that.data.tracklistloadedConunt === that.data.trackListSize) {\r\n                                that.trigger('tracklistloaded');\r\n                                that.data.tracklistloadedConunt = 0;\r\n                            }\r\n                        } else if (datad.status === 3006 || datad.status === 1) {\r\n\r\n                            var tempTimeArr = [];\r\n                            var partTime = Math.floor((that.data.end_time - that.data.start_time) / 6);\r\n                            for(var i = 0; i < 6; i++) {\r\n                                tempTimeArr[i] = {\r\n                                    start_time: that.data.start_time + i * partTime,\r\n                                    end_time: that.data.start_time + (i + 1) * partTime - 1,\r\n                                    index: i\r\n                                }\r\n                            }\r\n                            tempTimeArr[5].end_time = that.data.end_time;\r\n                            var distance_time = [{\r\n                                total: 0,\r\n                                distance: []\r\n                            }];\r\n                            tempTimeArr.map(function (item_time) {\r\n                                var param_time = {\r\n                                    'start_time': item_time.start_time,\r\n                                    'end_time': item_time.end_time,\r\n                                    'entity_name': item.entity_name,\r\n                                    'is_processed': that.data.trackProcess.is_processed.toString(),\r\n                                    'process_option': 'need_denoise=' + that.data.trackProcess.need_denoise + ',' +\r\n                                                     'need_vacuate=' + that.data.trackProcess.need_vacuate + ',' +\r\n                                                     'need_mapmatch=' + that.data.trackProcess.need_mapmatch + ',' +\r\n                                                     'transport_mode=' + that.data.transport_mode[that.data.trackProcess.transport_mode - 1]\r\n                                };\r\n                                Urls.jsonp(Urls.getDistance, param_time, function(data_time) {\r\n                                    if (data_time.status === 0) {\r\n                                        if (!distance_time[key]) {\r\n                                            distance_time[key] = {};\r\n                                            distance_time[key].total = 0;\r\n                                            distance_time[key].distance = [];\r\n                                        }\r\n                                        distance_time[key].distance.push(data_time.distance);\r\n                                        distance_time[key].total = distance_time[key].total + data_time.distance;\r\n                                        if (distance_time[key].distance.length === 6) {\r\n                                            var trackDistance = (distance_time[key].total / 1000).toFixed(1);\r\n                                            that.setTracklistDistance(trackDistance, item.entity_name);\r\n                                            that.trigger('tracklist', that.getTracklist());\r\n                                            if (++that.data.tracklistloadedConunt === that.data.trackListSize) {\r\n                                                that.trigger('tracklistloaded');\r\n                                                that.data.tracklistloadedConunt = 0;\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                });\r\n                            });\r\n                        } else {\r\n                            var trackDistance = '数据异常';\r\n                            that.setTracklistDistance(trackDistance, item.entity_name);\r\n                            that.trigger('tracklist', that.getTracklist());\r\n                            if (++that.data.tracklistloadedConunt === that.data.trackListSize) {\r\n                                that.trigger('tracklistloaded');\r\n                                that.data.tracklistloadedConunt = 0;\r\n                            }\r\n                        }\r\n                    });\r\n                });\r\n                \r\n            } else {\r\n                that.trigger('tracklist', []);\r\n                that.trigger('tracklistloaded');\r\n            }\r\n            \r\n        }.bind(this));\r\n    },\r\n    /**\r\n     * Store内部，根据查询结果设置tracklist数据\r\n     *\r\n     * @param {array} data entity数据\r\n     */\r\n    setTracklist: function (data) {\r\n        var that = this;\r\n        that.data.trackList = [];\r\n        data.entities.map(function (item, index) {\r\n            if (item.trackDistance != undefined){\r\n                // alert(1);\r\n                that.data.trackList.push([item.entity_name, item.trackDistance, item.trackDistance > 0 ? 0 : 1]);\r\n            } else {\r\n                that.data.trackList[index] = {\r\n                    name: item.entity_name,\r\n                    distance: -1,\r\n                    style: 1,\r\n                    desc: item.entity_desc ? item.entity_desc : '无'\r\n                };\r\n\r\n                // 从localstorage中获取应该显示到列表中的字段，entitydesc或者entityname\r\n                let entityOption = localStorage['entityOption' + that.data.serviceId];\r\n                if (entityOption === 'byname' || entityOption === undefined) {\r\n                    that.data.trackList[index]['print'] = item.entity_name;\r\n                } else if (entityOption === 'bydesc') {\r\n                    that.data.trackList[index]['print'] = item.entity_desc ? item.entity_desc : '无';\r\n                }\r\n\r\n                if (that.data.managerDemo) {\r\n                    that.data.trackList[index].entity_id = item.entity_id;\r\n                }\r\n            }\r\n        });\r\n    },\r\n    /**\r\n     * Store内部，设置tracklist里程数\r\n     *\r\n    * @param {string} data entity数据\r\n     * @param {string} name entity名称\r\n     */\r\n    setTracklistDistance: function(data, name) {\r\n        var that = this;\r\n        that.data.trackList.map(function(item) {\r\n            if(item.name === name) {\r\n                item.distance = data;\r\n                item.style = data > 0 ? 0 : 1;\r\n            }\r\n        });\r\n    },\r\n    /**\r\n     * Store内部，获取tracklist数据\r\n     *\r\n     * @param {array} data entity数据\r\n     */\r\n    getTracklist: function() {\r\n        return this.data.trackList;\r\n    },\r\n    /**\r\n     * 响应Action changedatetime，修改起止时间\r\n     *\r\n     * @param {string} data 选择日期\r\n     */\r\n    onChangedatetime: function(data) {\r\n        var date = new Date(Date.parse(data.replace(/-/g, \"/\")));\r\n        date = date.getTime() / 1000;\r\n        this.data.start_time = date;\r\n        this.data.end_time = date + 86399;\r\n    },\r\n    /**\r\n     * store内部 pdateonlinetime，修改判断在线离线时间\r\n     *\r\n     */\r\n    updateOnlineTime: function() {\r\n        this.data.onlineTime = Math.ceil(new Date().getTime() / 1000) - 600;\r\n    },\r\n    /**\r\n     * 响应Action setsearchentity，设置检索关键字\r\n     *\r\n     * @param {string} data 检索关键字\r\n     */\r\n    onSetsearchentity: function(data) {\r\n        this.data.searchQuery = data;\r\n    },\r\n    /**\r\n     * 响应Action setsearchentitytrack，设置轨迹查询检索关键字\r\n     *\r\n     * @param {string} data 检索关键字\r\n     */\r\n    onSetsearchentitytrack: function(data) {\r\n        this.data.searchQueryTrack = data;\r\n    },\r\n    /**\r\n     * 响应Action selecttrack，选中某个轨迹\r\n     *\r\n     * @param {string} data entity name\r\n     */\r\n    onSelecttrack: function(data) {\r\n        var that = this;\r\n        if (that.data.selectTrack === '' && !data) {\r\n            return;\r\n        }\r\n        if (that.data.trackSearching === 1) {\r\n            return;\r\n        }\r\n        let first = (data !== undefined);\r\n        that.data.trackSearching = 1;\r\n        var tempTimeArr = [];\r\n        that.data.selectTrack = data || that.data.selectTrack;\r\n        that.data.trackRouteData = [];\r\n        that.data.trackRoutePointData = [];\r\n        that.data.trackRouteSortData = [];\r\n        that.data.trackRouteNoZero = [];\r\n        var partTime = Math.floor((that.data.end_time - that.data.start_time) / 6);\r\n        for(var i = 0; i < 6; i++) {\r\n            tempTimeArr[i] = {\r\n                start_time: that.data.start_time + i * partTime,\r\n                end_time: that.data.start_time + (i + 1) * partTime - 1,\r\n                index: i\r\n            }\r\n        }\r\n        tempTimeArr[5].end_time = that.data.end_time;\r\n        var params = {\r\n           'entity_name': that.data.selectTrack,\r\n           'simple_return': 0,\r\n           'page_size': 5000,\r\n           'is_processed': that.data.trackProcess.is_processed.toString(),\r\n           'process_option': 'need_denoise=' + that.data.trackProcess.need_denoise + ',' +\r\n                             'need_vacuate=' + that.data.trackProcess.need_vacuate + ',' +\r\n                             'need_mapmatch=' + that.data.trackProcess.need_mapmatch + ',' +\r\n                             'transport_mode=' + that.data.transport_mode[that.data.trackProcess.transport_mode - 1]\r\n        };\r\n        var count = 1;\r\n        var reTrackRoute = function (paramsr, page_index) {\r\n\r\n            var newParams = {\r\n                'service_id': paramsr.service_id,\r\n                'entity_name': paramsr.entity_name,\r\n                'simple_return': paramsr.simple_return,\r\n                'page_size': paramsr.page_size,\r\n                'page_index': page_index,\r\n                'start_time': paramsr.start_time,\r\n                'end_time': paramsr.end_time,\r\n                'is_processed': paramsr.is_processed,\r\n                'process_option': paramsr.process_option\r\n            };\r\n\r\n            var search = function (paramsearch, counta, countb) {\r\n                Urls.jsonp(Urls.getTrack, paramsearch, function(data) {\r\n                    that.data.trackRouteDataCount = that.data.trackRouteDataCount + 1;\r\n                    if(data.status === 0){ \r\n                        that.data.trackRouteSortData.push({index: counta, data: data});\r\n                        if(that.data.trackRouteDataCount === 12) {\r\n                            that.data.trackRouteDataCount = 0;\r\n                            that.data.trackRouteSortData.sort(function(a,b){return a.index - b.index});\r\n\r\n                            for(var i = 0; i < 12; i++) {\r\n                                that.data.trackRoutePointData = that.data.trackRoutePointData.concat(that.data.trackRouteSortData[i].data.points);\r\n                            }\r\n                            that.data.trackRoutePointData.map(function(item){\r\n                                if (item.longitude > 1 && item.latitude > 1) {\r\n                                    that.data.trackRouteNoZero.push(item);\r\n                                }  \r\n                            });\r\n                            that.trigger('trackroutefirst', first);\r\n                            that.trigger('trackroute', that.data.trackRouteNoZero);\r\n                            that.data.trackSearching = 0;\r\n                        }\r\n                    }\r\n                    if (that.data.trackRouteDataCount === 12) {\r\n                        that.data.trackRouteDataCount = 0;\r\n                        that.data.trackSearching = 0;\r\n                    }\r\n                });\r\n            };\r\n            search(newParams, count++);\r\n        };\r\n        tempTimeArr.map(function (item){\r\n            params.start_time = item.start_time;\r\n            params.end_time = item.end_time;\r\n            reTrackRoute(params, 1);\r\n            reTrackRoute(params, 2);\r\n        }); \r\n    },\r\n    /**\r\n     * 响应Action initpageset，初始化页码\r\n     *\r\n     */\r\n    onInitpageset: function() {\r\n        this.data.currentAllPage =  0;\r\n        this.data.currentOnlinePage =  0;\r\n        this.data.currentOfflinePage =  0;\r\n        this.trigger('initallpage');\r\n        this.trigger('initonlinepage');\r\n        this.trigger('initofflinepage');\r\n    },\r\n    /**\r\n     * 响应Action initpagesettrack，初始化页码\r\n     *\r\n     */\r\n    onInitpagesettrack: function() {\r\n        this.data.currentTrackPageIndex =  0;\r\n        this.trigger('initpagetrack');\r\n    },\r\n    /**\r\n     * 响应Action getstaypoint，获取停留点\r\n     *\r\n     */\r\n    onGetstaypoint: function() {\r\n        var that = this;\r\n        if (that.data.selectTrack === '') {\r\n            return;\r\n        }\r\n        if (that.data.staypointSearching === 1) {\r\n            return;\r\n        }\r\n        that.data.staypointSearching = 1;\r\n        var entity_name = that.data.selectTrack;\r\n        var tempTimeArr = [];\r\n        that.data.trackStayRouteSortData = [];\r\n        that.data.trackStayRoutePointData = [];\r\n        var partTime = Math.floor((that.data.end_time - that.data.start_time) / 6);\r\n        for(var i = 0; i < 6; i++) {\r\n            tempTimeArr[i] = {\r\n                start_time: that.data.start_time + i * partTime,\r\n                end_time: that.data.start_time + (i + 1) * partTime - 1,\r\n                index: i\r\n            }\r\n        }\r\n        tempTimeArr[5].end_time = that.data.end_time;\r\n        var params = {\r\n           'entity_name': that.data.selectTrack\r\n        };\r\n        var count = 1;\r\n        var reTrackRoute = function (paramsr) {\r\n\r\n            var newParams = {\r\n                'service_id': paramsr.service_id,\r\n                'entity_name': paramsr.entity_name,\r\n                'start_time': paramsr.start_time,\r\n                'end_time': paramsr.end_time,\r\n                'process_option': 'need_denoise=' + that.data.trackProcess.need_denoise + ','\r\n                                  + 'need_vacuate=' + that.data.trackProcess.need_vacuate + ','\r\n                                  + 'need_mapmatch=' + that.data.trackProcess.need_mapmatch + ','\r\n                                  + 'transport_mode=' + that.data.transport_mode[that.data.trackProcess.transport_mode - 1]\r\n            };\r\n            var search = function (paramsearch, counta) {\r\n                Urls.jsonp(Urls.getstaypoint, paramsearch, function(data) {\r\n                    if(data.status === 0){ \r\n                        that.data.trackStayRouteSortData.push({index: counta, data: data});\r\n                        if(++that.data.trackStayRouteDataCount === 6) {\r\n                            that.data.trackStayRouteDataCount = 0;\r\n                            that.data.trackStayRouteSortData.sort(function(a,b){return a.index - b.index});\r\n\r\n                            for(var i = 0; i < 6; i++) {\r\n                                if (that.data.trackStayRouteSortData[i].data.stay_points !== undefined) {\r\n                                    that.data.trackStayRoutePointData = that.data.trackStayRoutePointData.concat(that.data.trackStayRouteSortData[i].data.stay_points);\r\n                                }\r\n                            }\r\n                            that.trigger('staypoint', that.data.trackStayRoutePointData);\r\n                            that.data.staypointSearching = 0;\r\n                        }\r\n                    }\r\n                });\r\n            };\r\n            search(newParams, count++);\r\n        };\r\n        tempTimeArr.map(function (item){\r\n            params.start_time = item.start_time;\r\n            params.end_time = item.end_time;\r\n            reTrackRoute(params);\r\n        }); \r\n    },\r\n    /**\r\n     * 响应Action behavioranalysis，驾驶分析\r\n     *\r\n     */\r\n    onBehavioranalysis: function() {\r\n        var that = this;\r\n        if (that.data.selectTrack === '') {\r\n            return;\r\n        }\r\n        if (that.data.analysisbehaviorSearching === 1) {\r\n            return;\r\n        }\r\n        that.data.analysisbehaviorSearching = 1;\r\n        var entity_name = that.data.selectTrack;\r\n        var tempTimeArr = [];\r\n        that.data.trackBehaviorSortData = [];\r\n        // 实际返回给view的驾驶分析数据\r\n        that.data.trackBehaviorPointData = {\r\n            harsh_acceleration: [],\r\n            harsh_breaking: [],\r\n            harsh_steering: [],\r\n            speeding: []\r\n        };\r\n        var partTime = Math.floor((that.data.end_time - that.data.start_time) / 6);\r\n        for(var i = 0; i < 6; i++) {\r\n            tempTimeArr[i] = {\r\n                start_time: that.data.start_time + i * partTime,\r\n                end_time: that.data.start_time + (i + 1) * partTime - 1,\r\n                index: i\r\n            }\r\n        }\r\n        tempTimeArr[5].end_time = that.data.end_time;\r\n        var params = {\r\n           'entity_name': that.data.selectTrack\r\n        };\r\n        var count = 1;\r\n        var reBehavior = function (paramsr) {\r\n            var newParams = {\r\n                'service_id': paramsr.service_id,\r\n                'entity_name': paramsr.entity_name,\r\n                'start_time': paramsr.start_time,\r\n                'end_time': paramsr.end_time,\r\n                'process_option': 'need_denoise=' + that.data.trackProcess.need_denoise + ','\r\n                                  + 'need_vacuate=' + that.data.trackProcess.need_vacuate + ','\r\n                                  + 'need_mapmatch=' + that.data.trackProcess.need_mapmatch + ','\r\n                                  + 'transport_mode=' + that.data.transport_mode[that.data.trackProcess.transport_mode - 1]\r\n            };\r\n            var search = function (paramsearch, counta) {\r\n                Urls.jsonp(Urls.getBehaviorAnalysis, paramsearch, function(data) {\r\n                    if(data.status === 0){ \r\n                        that.data.trackBehaviorSortData.push({index: counta, data: data});\r\n                        if(++that.data.trackBehaviorDataCount === 6) {\r\n                            that.data.trackBehaviorDataCount = 0;\r\n                            that.data.trackBehaviorSortData.sort(function(a,b){return a.index - b.index});\r\n\r\n                            for(var i = 0; i < 6; i++) {\r\n                                that.data.trackBehaviorPointData.harsh_acceleration = that.data.trackBehaviorPointData.harsh_acceleration.concat(\r\n                                    that.data.trackBehaviorSortData[i].data.harsh_acceleration\r\n                                );\r\n                                that.data.trackBehaviorPointData.harsh_breaking = that.data.trackBehaviorPointData.harsh_breaking.concat(\r\n                                    that.data.trackBehaviorSortData[i].data.harsh_breaking\r\n                                );\r\n                                that.data.trackBehaviorPointData.harsh_steering = that.data.trackBehaviorPointData.harsh_steering.concat(\r\n                                    that.data.trackBehaviorSortData[i].data.harsh_steering\r\n                                );\r\n                                that.data.trackBehaviorPointData.speeding = that.data.trackBehaviorPointData.speeding.concat(\r\n                                    that.data.trackBehaviorSortData[i].data.speeding\r\n                                );\r\n                            }\r\n                            that.trigger('analysisbehavior', that.data.trackBehaviorPointData);\r\n                            that.data.analysisbehaviorSearching = 0;\r\n                        }\r\n                    }\r\n                });\r\n            };\r\n            search(newParams, count++);\r\n        };\r\n        tempTimeArr.map(function (item){\r\n            params.start_time = item.start_time;\r\n            params.end_time = item.end_time;\r\n            reBehavior(params);\r\n        }); \r\n    },\r\n    /**\r\n     * 响应Action updateprocess，驾驶分析\r\n     *\r\n     * @param {object} data 轨迹纠偏选项\r\n     */\r\n    onUpdateprocess: function(data) {\r\n        this.data.trackProcess.is_processed = data.is_processed;\r\n        this.data.trackProcess.need_denoise = data.need_denoise;\r\n        this.data.trackProcess.need_vacuate = data.need_vacuate;\r\n        this.data.trackProcess.need_mapmatch = data.need_mapmatch;\r\n        this.data.trackProcess.transport_mode = data.transport_mode;\r\n    },\r\n    /**\r\n     * 响应Action hidetrackcanvas 隐藏显示路径的canvas层\r\n     *\r\n     */\r\n    onHidetrackcanvas: function(data) {\r\n        this.trigger('hidetrackcanvas');\r\n    },\r\n    /**\r\n     * 响应Action showtrackcanvas 隐藏显示路径的canvas层\r\n     *\r\n     */\r\n    onShowtrackcanvas: function(data) {\r\n        this.trigger('showtrackcanvas');\r\n    },\r\n\r\n    /**\r\n     * 响应Action changeTimeline 设置轨迹显示的时间段\r\n     *\r\n     * @param {number} starttime 开始时间\r\n     * @param {number} endtime 结束时间\r\n     */\r\n    onChangeTimeline(starttime, endtime) {\r\n        this.trigger('changeTimeline', {\r\n            starttime: starttime,\r\n            endtime: endtime\r\n        });\r\n    },\r\n\r\n    /**\r\n     * 响应Action getaddress 进行地址解析\r\n     *\r\n     * @param {Object} point 点对象\r\n     */\r\n    onGetaddress(point) {\r\n        let that = this;\r\n        let param = {\r\n            location: point.lat + ',' + point.lng,\r\n            output: 'json'\r\n        };\r\n        Urls.jsonp(Urls.getAddress, param, function (data) {\r\n            let infoBoxObject = that.getTrackPointInfo(data, point);\r\n            that.trigger('getaddress', infoBoxObject);\r\n        });\r\n    },\r\n\r\n    /**\r\n     * store 内部，整合轨迹点信息窗口的数据格式\r\n     *\r\n     * @param {Object} data 逆地址解析返回的结果\r\n     * @param {Object} point 轨迹点对象数据\r\n     *\r\n     * @return {Object} 轨迹点信息窗口所需数据\r\n     */\r\n    getTrackPointInfo(data, point) {\r\n        let address = '';\r\n        if (data.status === 0) {\r\n            if (data.result.formatted_address !== '') {\r\n                address = data.result.formatted_address;\r\n            } else {\r\n                address = data.result.addressComponent.city + ', ' + data.result.addressComponent.country;\r\n            }\r\n        } else {\r\n            address = '地址未解析成功';\r\n        }\r\n        let infoBoxObject = {\r\n            point: point,\r\n            print: point.print,\r\n            infor: [\r\n                ['定位:', point.lnglat],\r\n                ['地址:', address],\r\n                ['速度:', point.printSpeed],\r\n                ['时间:', point.printTime],\r\n                ['高度:', point.height + '米'],\r\n                ['精度:', point.radius + '米']\r\n            ]\r\n            // lnglat: point.lnglat,\r\n            // address: address,\r\n            // printTime: point.printTime,\r\n            // printSpeed: point.printSpeed,\r\n            // height: point.height,\r\n            // radius: point.radius\r\n        };\r\n        return infoBoxObject;\r\n    }\r\n});\r\n\r\nexport default TrackStore"]}